---
title: Алгоритма консенсуса POA в Ethereum
description: Развертывание и настройка сети Ethereum в консорциуме с несколькими участниками с помощью решения консорциума PoA для Ethereum.
services: azure-blockchain
keywords: ''
author: CodyBorn
ms.author: coborn
ms.date: 8/2/2018
ms.topic: article
ms.service: azure-blockchain
ms.reviewer: brendal
manager: vamelech
ms.openlocfilehash: fcb35f23be384b3625e4e17e5dc2285b7eeb341a
ms.sourcegitcommit: 9819e9782be4a943534829d5b77cf60dea4290a2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/06/2018
ms.locfileid: "39530058"
---
# <a name="ethereum-proof-of-authority-consortium"></a>Консорциум PoA в Ethereum

[Это решение](https://portal.azure.com/?pub_source=email&pub_status=success#create/microsoft-azure-blockchain.azure-blockchain-ethereumethereum-poa-consortium) позволяет упростить развертывание и настройку сети Ethereum для консорциума PoA с несколькими участниками, а также управление ею при минимальных знаниях об Azure и Ethereum.

Небольшой объем входных пользовательских данных и быстрое развертывание на портале Azure позволяют для каждого участника подготовить сетевое расположение с помощью Microsoft Azure Compute, сетевых служб и служб хранилища по всему миру. Сетевое расположение каждого участника состоит из набора узлов проверяющего элемента управления с балансировкой нагрузки транзакций, с помощью которого приложение или пользователь могут взаимодействовать при отправке транзакций Ethereum.

## <a name="concepts"></a>Основные понятия

### <a name="terminology"></a>Терминология

-   **Консенсус** — процесс синхронизации данных в распределенной сети через проверку и создание блока.

-   **Участник консорциума** — это сущность, участвующая в консенсусе в сети блокчейнов.

-   **Администратор** — учетная запись Ethereum, с помощью которой выполняется управление участием определенного участника консорциума.

-   **Проверяющий элемент управления** — механизм, связанный с учетной записью Ethereum, которая участвует в консенсусе от имени администратора.

### <a name="proof-of-authority"></a>Алгоритм Proof-of-authority

Для тех, кто не знаком с блокчейн-сообществом, выпуск этого решения — отличная возможность познакомиться с этой технологией в простой и настраиваемой среде Azure. Proof-of-work (POW) — это механизм защиты от атак Сивиллы, который автоматически регулирует сеть и разрешает участие на основе вычислительных затрат. Лучше всего его применять в анонимных открытых сетях блокчейнов, в которых майнинг криптовалюты может влиять на защиту. Однако в частных сетях и сетях консорциумов эфир не имеет ценности. Протокол PoA более подходит к сетям с разрешениями, в которых все участники консенсуса известные и надежные. Не требующий майнинга в привычном его понимании, этот механизм более эффективен. Однако подход к византийской отказоустойчивости по-прежнему сохраняется.

### <a name="consortium-governance"></a>Управление консорциумом

Механизм PoA обеспечивает работоспособность сети на основе списка разрешенных центров сертификации. Поэтому важно обеспечить механизм внесения изменений в этот список. Каждое развертывание имеет набор смарт-контрактов и портал управления на базе блокчейна предоставленного списка разрешений. Когда за предложенное изменение проголосует большинство участников консорциума, изменение задействуется. Этот механизм позволяет добавлять новых участников консенсуса или удалять скомпрометированных прозрачным образом, что способствует формированию открытой сети.

### <a name="admin-account"></a>Учетная запись администратора

Во время развертывания узлов PoA требуется адрес администратора Ethereum. Создать и защитить эту учетную запись Ethereum можно с помощью нескольких различных механизмов. Добавив этот адрес как удостоверение сети, вы сможете выполнять с помощью этой учетной записи задачи администрирования. Кроме того, эта учетная запись администратора позволяет делегировать участие в консенсусе на узлы проверяющего элемента управления, которые создаются в рамках этого развертывания. Так как используется только общедоступный адрес Ethereum, каждый администратор может легко защитить свои закрытые ключи способом, который соответствует его модели безопасности.

### <a name="validator-node"></a>Узел проверяющего элемента управления

В протоколе PoA узлы проверяющего элемента управления заменяют традиционные узлы майнинга. Каждый проверяющий элемент управления имеет уникальный идентификатор Ethereum, который добавляется в список разрешений смарт-контрактов. Если проверяющий элемент управления находится в этом списке, его можно использовать в процессе создания блока. Дополнительные сведения об этом процессе см. в документации Parity по [алгоритму консенсуса Authority Round](https://wiki.parity.io/Aura). Каждый участник консорциума может подготовить несколько узлов проверяющего элемента управления в пяти регионах, что позволит обеспечить геоизбыточность. Узлы проверяющего элемента управления взаимодействуют с другими узлами проверяющего элемента управления, чтобы координировать состояние базового распределенного реестра.
Чтобы обеспечить равномерное участие в сети, каждому участнику консорциума запрещено использовать в сети больше проверяющих элементов управления, чем имеет первый участник (если первый участник развертывает три проверяющих элемента управления, каждый участник может иметь только до трех таких элементов).

### <a name="identity-store"></a>Хранилище удостоверений

Так как каждый участник может иметь несколько работающих одновременно узлов проверяющих элементов управления и каждый узел должен иметь разрешенное удостоверение, очень важно, чтобы проверяющие элементы управления могли безопасно получить уникальные активные удостоверения в сети. Чтобы обеспечить это, мы создали хранилище удостоверений, в котором надежно хранятся созданные удостоверения Ethereum. Это хранилище развертывается в подписке каждого участника. При развертывании контейнер оркестрации создает закрытый ключ Ethereum для каждого проверяющего элемента управления и сохраняет его в Azure Key Vault. Перед запуском узел равенства сначала получает аренду на неиспользуемое удостоверение, чтобы убедиться, что его не выберет другой узел. Это удостоверение предоставляется клиенту, который наделяет его полномочиями для создания блоков. Если на виртуальной машине размещения произошел сбой, аренда удостоверения освобождается, за счет чего его сможет получить другой узел.

### <a name="bootnode-registrar"></a>Регистратор Bootnode

Чтобы обеспечить простоту подключения, на [конечной точке API данных](#data-api) каждого участника размещается набор сведений о соединении. К этим данным относится список загрузочных узлов, которые используются как узлы пиринга присоединяемого участника. Периодически мы обновляем этот список загрузочных узлов, входящий в состав API данных.

### <a name="bring-your-own-operator"></a>Использование собственного оператора

Зачастую участники консорциума хотят участвовать в управлении сети, но не хотят настраивать и обслуживать свою инфраструктуру. В отличие от традиционных систем использование одного оператора в сети имеет отрицательный эффект для децентрализованной модели блокчейн-систем. Вместо найма централизованного посредника для управления сетью каждый участник консорциума может делегировать управление инфраструктурой любому оператору по своему выбору. Это позволяет реализовать гибридную модель, при которой каждый участник может управлять своей инфраструктурой или делегировать операции другому партнеру. Рабочий процесс делегированной операции выглядит следующим образом:

1.  **Участник консорциума** создает адрес Ethereum (содержит закрытый ключ).

2.  **Участник консорциума** предоставляет общедоступный адрес Ethereum **оператору**.

3.  **Оператор** развертывает и настраивает узлы PoA проверяющего элемента управления с помощью Azure Resource Manager.

4.  **Оператор** предоставляет конечную точку RPC и управления **участнику консорциума**.

5.  **Участник консорциума** с помощью закрытого ключа подписывает запрос, принимая узлы проверяющего элемента управления, которые развернул **оператор** для участия от его имени.

![Использование собственного оператора](./media/ethereum-poa-deployment-guide/bring-you-own-operator.png)

### <a name="azure-monitor"></a>Azure Monitor

Это решение также поставляется со службой Azure Monitor, которая позволяет отслеживать статистику узла и сети. Это предоставляет разработчикам приложений возможность отслеживать статистику создания блоков в базовом блокчейне. С помощью Azure Monitor операторы сети могут быстро обнаруживать и предотвращать сбои сети на основе статистических данных об инфраструктуре и сведений из поддерживающих запросы журналов. Дополнительные сведения см. в разделе [Мониторинг службы](#service-monitoring).

### <a name="deployment-architecture"></a>Архитектура развертывания

#### <a name="description"></a>ОПИСАНИЕ

Это решение может развернуть сеть консорциума Ethereum с несколькими участниками для одного или нескольких регионов. По умолчанию доступ к конечным точкам RPC и пиринга можно получить через общедоступный IP-адрес, что позволяет упростить подключение между подписками и облаками. Советуем использовать [контракты разрешений Parity](https://wiki.parity.io/Permissioning) для элементов управления доступом уровня приложения. Мы также поддерживаем развернутые за VPN сети, которые подключаются между подписками с помощью шлюзов виртуальных сетей. Эти развертывания более сложны, поэтому советуем начать с модели общедоступного IP-адреса.

#### <a name="consortium-member-overview"></a>Сведения о участнике консорциума

Каждое развертывание участника консорциума содержит:

-   масштабируемые наборы виртуальных машин для запуска проверяющих элементов управления PoA;

-   Azure Load Balancer для распределения запросов RPC, пиринга и децентрализованного приложения системы управления;

-   Azure Key Vault для защиты удостоверений проверяющего элемента управления;

-   служба хранилища Azure для размещения сведений о сети и координации аренды;

-   Azure Monitor для объединения статистики производительности и журналов;

-   шлюз виртуальной сети (необязательно) для разрешения VPN-подключений в виртуальных частных сетях.

![Архитектура развертывания](./media/ethereum-poa-deployment-guide/deployment-architecture.png)

Мы используем контейнеры Docker, чтобы обеспечить надежность и модульность. Версионные образы в рамках каждого развертывания размещаются в службе "Реестр контейнеров Azure". Здесь также выполняется их обслуживание. Образы контейнеров состоят из следующих компонентов:

-   Оркестратор:

    -   запускается один раз во время развертывания;

    -   создает удостоверения и контракты системы управления;

    -   сохраняет удостоверения в хранилище удостоверений.

-   Клиент Parity:

    -   получает (арендует) удостоверение из хранилища удостоверений;

    -   обнаруживает кэширующие узлы и подключается к ним.

-   Агент EthStats:

    -   собирает локальные журналы и статистику через RPC и отправляет эти данные в Azure Monitor.

-   Децентрализованное приложение системы управления:

    -   веб-интерфейс взаимодействия с контрактами системы управления.

## <a name="governance-dapp"></a>Децентрализованное приложение системы управления

Основополагающую роль в механизме PoA играет децентрализованная система управления. Децентрализованное приложение системы управления — это набор предварительно развернутых смарт-контрактов и веб-приложение, с помощью которого осуществляется управление центрами сертификации сети.
Центры разделяются на удостоверения администраторов и узел проверяющих элементов управления.
Администраторы имеют возможность делегировать участие в консенсусе на узлы проверяющих элементов управления. Администраторы также могут голосовать за других администраторов в сети или вне ее.

![Децентрализованное приложение системы управления](./media/ethereum-poa-deployment-guide/governance-dapp.png)

-   **Децентрализованная система управления.** Внесение изменений в центры сертификации сети осуществляется путем голосования (по цепочке) выбранных администраторов.

-   **Делегирование проверяющего элемента управления.** Центры сертификации могут управлять узлами их проверяющих элементов управления, настроенными в каждом развертывании PoA.

-   **Поддерживающий аудит журнал изменений.** Каждое изменение записывается в блокчейн, что обеспечивает прозрачность и возможность выполнения аудита.

## <a name="how-to-guides"></a>Практические руководства

### <a name="deploy-ethereum-proof-of-authority"></a>Развертывание сети PoA в Ethereum

Ниже приведен пример последовательности развертывания с несколькими участниками.

1.  Три участника создают учетные записи Ethereum с помощью MetaMask.

2.  *Участник А* развертывает сеть Ethereum PoA, предоставляя при этом свой общедоступный адрес Ethereum.

3.  *Участник А* предоставляет URL-адрес консорциума *участнику Б* и *участнику В*.

4.  *Участник Б* и *участник В* развертывают сеть Ethereum PoA, предоставляя свои общедоступные адреса Ethereum и URL-адрес консорциума *участнику А*.

5.  *Участник А* голосует, чтобы *участник Б* получил роль администратора.

6.  *Участник А* и *участник Б* голосуют за присвоение роли администратора *участнику В*.

Для этого процесса нужна подписка Azure, которая может поддерживать развертывание нескольких масштабируемых наборов виртуальных машин и управление дисками. При необходимости сначала [создайте бесплатную учетную запись Azure](https://azure.microsoft.com/free/).

После защиты подписки перейдите на портал Azure. Щелкните знак "плюс" (+) рядом с надписью Azure Marketplace выберите "Показать все" и найдите Ethereum PoA Consortium.

В разделе ниже описано, как настроить расположение первого участника в сети. Процесс развертывания состоит из пяти шагов: основы, регионы развертывания, размер и производительность сети, параметры Ethereum и Azure Monitor.

#### <a name="basics"></a>Основы

В разделе **Основы** укажите значения стандартных параметров любого развертывания, такие как подписка, группа ресурсов и основные свойства виртуальной машины.

Ниже приведено подробное описание каждого параметра.

Имя параметра|ОПИСАНИЕ|Допустимые значения|Значения по умолчанию    
---|---|---|---
Создать новую сеть или присоединиться к существующей сети?|Создание сети или подключение к сети существующего консорциума|Создание новой и присоединение к существующей|Создать
Адрес электронной почты (необязательно)|После завершения развертывания вы получите уведомление по электронной почте с информацией об этом процессе.|Допустимый адрес электронной почты|Нет данных
Имя пользователя виртуальной машины|Имя пользователя администратора каждой развернутой виртуальной машины (только буквенно-цифровые символы)|1–64 символов|Нет данных
Authentication type (Тип проверки подлинности)|Метод аутентификации на виртуальной машине.|Пароль или открытый ключ SSH|Пароль
Пароль (тип проверки подлинности = пароль)|Пароль учетной записи администратора для каждой развернутой виртуальной машины.  Пароль должен содержать знаки трех видов из следующих: 1 строчная буква, 1 прописная буква, 1 цифра и 1 специальный знак. Хотя все виртуальные машины изначально имеют одинаковый пароль, вы можете изменить пароль после инициализации.|12–72 символов|Нет данных
Ключ SSH ("Тип аутентификации" = "Открытый ключ")|Ключ защищенной оболочки, используемый для удаленного входа.||Нет данных
Подписка|Подписка, для которой необходимо развернуть сеть консорциума||Нет данных
Группа ресурсов|Группа ресурсов, куда будет развертываться сеть консорциума.||Нет данных
Расположение|Регион Azure для группы ресурсов.||Нет данных

Ниже приведен пример развертывания: ![колонка "Основы"](./media/ethereum-poa-deployment-guide/basic-blade.png)

#### <a name="deployment-regions"></a>Регионы развертывания

Затем в разделе Deployment regions (Регионы развертывания) укажите количество регионов, в которых необходимо развернуть сеть консорциума, и выберите регионы Azure, основываясь на указанном количестве регионов. Пользователь может развернуть сеть не более чем в пяти регионах. Советуем выбрать первый регион, чтобы сопоставить расположение группы ресурсов из раздела "Основы". Для тестовых сетей и сетей разработки советуем использовать один регион на каждого участника. Если сеть рабочая, советуем развернуть ее в нескольких регионах, чтобы обеспечить высокую доступность.

Ниже приведено подробное описание каждого параметра.

  Имя параметра|ОПИСАНИЕ|Допустимые значения|Значения по умолчанию
  ---|---|---|---
  Количество регионов|Количество регионов для развертывания сети консорциума|1, 2, 3, 4, 5|1
  Первый регион|Первый регион для развертывания сети консорциума|Все разрешенные регионы Azure|Нет данных
  Второй регион|Второй регион развертывания сети консорциума (отображается только в том случае, если для количества регионов указано значение 2)|Все разрешенные регионы Azure|Нет данных
  Третий регион|Третий регион развертывания сети консорциума (отображается только в том случае, если для количества регионов указано значение 3)|Все разрешенные регионы Azure|Нет данных
  Четвертый регион|Четвертый регион развертывания сети консорциума (отображается только в том случае, если для количества регионов указано значение 4)|Все разрешенные регионы Azure|Нет данных
  Пятый регион|Пятый регион развертывания сети консорциума (отображается только в том случае, если для количества регионов указано значение 5)|Все разрешенные регионы Azure|Нет данных

Ниже приведен пример развертывания: ![развертывание регионов](./media/ethereum-poa-deployment-guide/deployment-regions.png)

#### <a name="network-size-and-performance"></a>Размер и производительность сети 

Затем в разделе Network size and performance (Размер и производительность сети) укажите размер сети консорциума, например количество и размер узлов проверяющих элементов управления.
От размера хранилища узла проверяющего элемента управления зависит потенциальный размер блокчейна. Его можно изменить после развертывания.

Ниже приведено подробное описание каждого параметра.

  Имя параметра|ОПИСАНИЕ|Допустимые значения|Значения по умолчанию
  ---|---|---|---
  Number of load balanced validator nodes (Количество узлов проверяющих элементов управления с балансировкой нагрузки)|Количество узлов проверяющих элементов управления, подготовленных как часть сети.|2–15|2
  Validator node storage performance (Производительность хранилища узлов проверяющих элементов управления)|Тип управляемых дисков, на которых развернуты узлы проверяющих элементов управления.|Standard или Premium|Стандартная
  Validator node virtual machine size (Размер виртуальной машины узла проверяющего элемента управления)|Размер виртуальной машины, используемой для узлов проверяющих элементов управления.|Standard A (Стандартный А), Standard D (Стандартный D), Standard D-v2 (Стандартный D-v2), Standard F series (Стандартный серии F), Standard DS (Стандартный DS) и Standard FS (Стандартный FS)|Standard D1 V2 (Стандартный D1 v2)

Ниже приведен пример развертывания: ![размер и производительность сети](./media/ethereum-poa-deployment-guide/network-size-and-performance.png)

#### <a name="ethereum-settings"></a>Параметры Ethereum

Затем в разделе Ethereum Settings (Параметры Ethereum) укажите параметры конфигурации Ethereum, такие как сетевой идентификатор и пароль учетной записи Ethereum или первичный блок.

Ниже приведено подробное описание каждого параметра.

  Имя параметра|ОПИСАНИЕ|Допустимые значения|Значения по умолчанию
  ---|---|---|---
Consortium Member ID (Идентификатор участника консорциума)|Идентификатор, связанный с каждым участником сети консорциума, который используется для настройки пространства IP-адресов, чтобы избежать конфликтов. Если сеть частная, идентификатор участника должен быть уникальным среди разных организаций в одной сети.  Уникальный идентификатор участника необходим даже в том случае, когда та же организация развертывает участников в нескольких регионах. Запишите значение этого параметра, так как его потребуется предоставить другим присоединяемым участникам, чтобы избежать конфликта.|0–255|Нет данных
Идентификатор сети|Идентификатор сети для сети Ethereum развертываемого консорциума.  Каждая сеть Ethereum имеет свой собственный идентификатор сети, причем 1 соответствует идентификатору общедоступной сети.|5–999 999 999|10101010
Admin Ethereum Address (Адрес администратора Ethereum)|Адрес учетной записи Ethereum, которая используется в системе управления PoA.  Мы советует создавать адрес Ethereum с помощью MetaMask.|42 буквенно-цифровых символа, начиная с 0|Нет данных
Расширенные параметры|Расширенные параметры Ethereum|"Включить" или "Отключить"|Disable
Общедоступный IP-адрес ("Расширенные параметры" = "Включить")|Развертывает сеть за шлюзом виртуальной сети и удаляет пиринговый доступ. Если этот параметр установлен, все участники должны подключаться через шлюз виртуальной сети, чтобы обеспечить совместимость.|"Общедоступный IP-адрес" или Private VNet (Частная виртуальная сеть)|Общедоступный IP-адрес
Transaction Permission Contract (Контракт разрешения транзакций) ("Расширенные параметры" = "Включить")|Байт-код контракта разрешения транзакций. Ограничивает развертывание и выполнение смарт-контрактов и предоставляет эту возможность списку разрешенных учетных записей Ethereum.|Contract bytecode (Байт-код контракта)|Нет данных

Ниже приведен пример развертывания: ![параметры Ethereum](./media/ethereum-poa-deployment-guide/ethereum-settings.png)

#### <a name="azure-monitor"></a>Azure Monitor

В колонке Azure Monitor вы можете настроить ресурс Azure Monitor сети. Azure Monitor будет собирать и оценивать полезные метрики и журналы из сети, предоставляя возможность быстро проверять работоспособность сети и заниматься устранением неполадок.

  Имя параметра|ОПИСАНИЕ|Допустимые значения|Значения по умолчанию
  ---|---|---|---
Мониторинг|Параметр включения Azure Monitor|"Включить" или "Отключить"|Включение
Connect to existing Log Analytics (Подключиться к имеющемуся экземпляру Log Analytics)|Создание экземпляра Log Analytics как части Azure Monitor или присоединение имеющегося экземпляра|"Создать" или Join existing (Присоединить имеющийся)|Создание
Azure Monitor Location (Расположение Azure Monitor) (Connect to Existing Azure Monitor (Подключиться к имеющемуся экземпляру Azure Monitor) = "Создать")|Регион Azure, в котором развертывается новый экземпляр Azure Monitor|Все регионы Azure Monitor|Нет данных
Existing Log Analytics Workspace Id (Идентификатор имеющейся рабочей области Log Analytics) (Connect to Existing Azure Monitor (Подключиться к имеющемуся экземпляру Azure Monitor) = Join Existing (Присоединить имеющийся))|Идентификатор рабочей области имеющегося экземпляра Log Analytics||Нет данных
Existing Log Analytics Primary Key (Первичный ключ имеющегося экземпляра Log Analytics) (Connect to Existing Azure Monitor (Подключиться к имеющемуся экземпляру Azure Monitor) = Join Existing (Присоединить имеющийся))|Первичный ключ, с помощью которого выполняется подключение к имеющемуся экземпляру Azure Monitor||Нет данных


Ниже приведен пример развертывания: ![Azure Monitor](./media/ethereum-poa-deployment-guide/azure-monitor.png)

#### <a name="summary"></a>Сводка

Просмотрите итоговую колонку, чтобы изучить предоставленные входные данные и выполнить элементарную проверку перед развертыванием. Перед развертыванием вы можете скачать шаблон и параметры.

Просмотрите юридические и конфиденциальные условия и нажмите кнопку "Приобрести", чтобы выполнить развертывание. Если развертывание включает в себя шлюзы виртуальной сети, этот процесс может занять 45-50 минут.

#### <a name="post-deployment"></a>Задачи, выполняемые после развертывания

##### <a name="deployment-output"></a>Выходные данные развертывания 

После завершения развертывания вы сможете получить доступ к необходимым параметрам с помощью портала Azure или подтверждающего сообщения электронной почты. В этих параметрах доступны такие данные:

-   конечная точка Ethereum RPC;

-   URL-адрес панели мониторинга системы управления;

-   URL-адрес Azure Monitor;

-   URL-адрес данных;

-   идентификатор ресурса шлюза виртуальной сети (необязательно).

##### <a name="confirmation-email"></a>Подтверждающее сообщение электронной почты 

Если вы укажете адрес электронной почты (раздел [Основы](#basics)), сообщение электронной почты отправится на него. В этом письме содержатся выходные данные развертывания.

![Письмо с данными о развертывании](./media/ethereum-poa-deployment-guide/deployment-email.png)

##### <a name="portal"></a>Microsoft Azure

После развертывания и подготовки всех ресурсов вы сможете просмотреть параметры вывода в группе ресурсов.

1.  Найдите группу ресурсов на портале.

2.  Перейдите в раздел *Развертывания*.

3.  Выберите верхнее развертывание с таким же именем, что и группа ресурсов.

4.  Выберите *Выходные данные*.

### <a name="growing-the-consortium"></a>Расширение консорциума

Чтобы расширить свой консорциум, сначала необходимо подключиться к физической сети.
Если используется развертывание на основе общедоступного IP-адреса, это сделать просто. Если используется развертывание за VPN, сведения о подключении сети (как часть [шага 2](#connecting-vnet-gateways)) см. в разделе [Подключение шлюза виртуальной сети](#step-2-new-admin-deployment).

#### <a name="step-1-add-the-new-admin"></a>Шаг 1. Добавление нового администратора

1.  Получите общедоступный адрес Ethereum нового администратора.

2.  Перейдите к децентрализованному приложению системы управления и создайте учетную запись администратора с адресом Ethereum и соответствующим псевдонимом.

3.  Сообщите об этом остальным участникам нового запроса, чтобы они смогли проголосовать за добавление этого нового администратора.

4.  По достижении 51 % голосов участник будет добавлен как администратор.

![Добавление администратора](./media/ethereum-poa-deployment-guide/adding-admin.png)

#### <a name="step-2-new-admin-deployment"></a>Шаг 2. Новое административное развертывание

1.  Предоставьте подключаемому участнику приведенные ниже сведения. Эти сведения можно найти в сообщении электронной почты, полученном после развертывания, или в выходных данных развертывания портала.

    -  URL-адрес данных консорциума;

    -  количество развернутых узлов;

    -  идентификатор ресурса шлюза виртуальной сети (если используется сеть VPN).

2.  При развертывании сети участник должен использовать [то же решение](https://portal.azure.com/?pub_source=email&pub_status=success#create/microsoft-azure-blockchain.azure-blockchain-ethereumethereum-poa-consortium), а также:

    -  выбрать параметр *Join Existing* (Присоединить имеющийся);

    -  выбрать такое же число узлов проверяющих элементов управления, что и остальные участники в сети, чтобы обеспечить справедливое распределение;

    -  использовать адрес Ethereum, указанный на [предыдущем шаге](#step-1-add-the-new-admin);

    -  передать предоставленный *URL-адрес данных консорциума* на вкладке *Ethereum Settings* (Параметры Ethereum);

    -  если остальная часть сети находится за VPN, выбрать параметр *Private VNet* (Частная виртуальная сеть) в разделе дополнительных параметров.

#### <a name="step-3-delegate-validators"></a>Шаг 3. Делегирование проверяющих элементов управления

Новый администратор должен авторизовать участие проверяющих элементов управления от его имени. Это нельзя сделать автоматически, так как только участник управляет своими ключами.\*

_\*Узлы первого участника в сети можно добавить автоматически, так как мы можем предварительно компилировать его узлы проверяющего элемента управления в первичный блок сети._

Новый администратор должен сделать следующее:

1.  Открыть децентрализованное приложение системы управления, развернутое как часть *этого* процесса.

2.  Перейти на вкладку Validators (Проверяющие элементы управления).

3.  Выбрать все развернутые проверяющие элементы управления и щелкнуть **Добавить**.

![Добавление проверяющих элементов управления](./media/ethereum-poa-deployment-guide/adding-validators.png)

#### <a name="connecting-vnet-gateways"></a>Подключение шлюзов виртуальной сети

Если сеть частная, ее участники используют разные подключения шлюза виртуальной сети. Прежде чем участник сможет присоединиться к сети и просматривать трафик транзакций, имеющийся участник должен выполнить окончательную настройку на своем VPN-шлюзе, чтобы принимать подключения. Это означает, что узлы Ethereum присоединяемого участника не будут работать до установки подключения. Советуем создавать избыточные сетевые подключения (одноранговая сеть) в консорциуме, чтобы уменьшить вероятность единой точки отказа.

После развертывания сети новым участником имеющийся участник должен настроить двустороннее подключение, установив подключение к новому участнику через шлюз виртуальной сети. Чтобы сделать это, имеющийся участник должен иметь следующее:

1.  Идентификатор ресурса шлюза виртуальной сети участника, к которому устанавливается подключение (его можно просмотреть в выходных данных развертывания).

2.  Общий ключ подключения.

Чтобы завершить подключение, имеющийся участник должен выполнить приведенный ниже сценарий PowerShell. Советуем использовать службу Azure Cloud Shell, которая находится на портале в верхнем правом углу панели навигации.

![Cloud Shell](./media/ethereum-poa-deployment-guide/cloud-shell.png)

```bash
$MyGatewayResourceId = "<EXISTING_MEMBER_RESOURCEID>"
$OtherGatewayResourceId = "<NEW_MEMBER_RESOURCEID]"
$ConnectionName = "Leader2Member"
$SharedKey = "<NEW_MEMBER_KEY>"

## $myGatewayResourceId tells me what subscription I am in, what ResourceGroup and the VNetGatewayName
$splitValue = $MyGatewayResourceId.Split('/')
$MySubscriptionid = $splitValue[2]
$MyResourceGroup = $splitValue[4]
$MyGatewayName = $splitValue[8]

## $otherGatewayResourceid tells me what the subscription and VNet GatewayName are
$OtherGatewayName = $OtherGatewayResourceId.Split('/')[8]
$Subscription=Select-AzureRmSubscription -SubscriptionId $MySubscriptionid

## create a PSVirtualNetworkGateway instance for the gateway I want to connect to
$OtherGateway=New-Object Microsoft.Azure.Commands.Network.Models.PSVirtualNetworkGateway
$OtherGateway.Name = $OtherGatewayName
$OtherGateway.Id = $OtherGatewayResourceId
$OtherGateway.GatewayType = "Vpn"
$OtherGateway.VpnType = "RouteBased"

## get a PSVirtualNetworkGateway instance for my gateway
$MyGateway = Get-AzureRmVirtualNetworkGateway -Name $MyGatewayName -ResourceGroupName $MyResourceGroup

## create the connection
New-AzureRmVirtualNetworkGatewayConnection -Name $ConnectionName -ResourceGroupName $MyResourceGroup -VirtualNetworkGateway1 $MyGateway -VirtualNetworkGateway2 $OtherGateway -Location $MyGateway.Location -ConnectionType Vnet2Vnet -SharedKey $SharedKey -EnableBgp $True
```

### <a name="service-monitoring"></a>Мониторинг службы

Вы можете перейти на портал Azure Monitor либо по ссылке в сообщении электронной почты с данными развертывания, либо просмотрев значение параметра \[OMS\_PORTAL\_URL\] в выходных данных развертывания.

На портале в первую очередь отображается общая статистика по сети и сведения об узле.

![Категории Monitor](./media/ethereum-poa-deployment-guide/monitor-categories.png)

Щелкнув **Node Overview** (Обзор узла), вы перейдете к просмотру статистики инфраструктуры по отдельным узлам на портале.

![Статистика по узлам](./media/ethereum-poa-deployment-guide/node-stats.png)

Если выбрать **Network Stats** (Статистика по сети), вы перейдете к просмотру статистики сети Ethereum.

![Статистика по сети](./media/ethereum-poa-deployment-guide/network-stats.png)

#### <a name="sample-log-analytics-queries"></a>Примеры запросов Log Analytics

В основе этих панелей мониторинга лежит набор, который поддерживает запросы необработанных журналов. С помощью этих журналов можно настраивать панели мониторинга и оповещения о достижении порогового значения, а также анализировать сбои. Далее приведены примеры запросов, которые можно выполнять в средстве поиска по журналам.

##### <a name="lists-blocks-that-have-been-reported-by-more-than-one-validator-useful-to-help-find-chain-forks"></a>Возвращает список блоков, о которых сообщали несколько проверяющих элементов управления. Это позволяет найти ответвление (форк) цепочки.

```sql
MinedBlock_CL
| summarize DistinctMiners = dcount(BlockMiner_s) by BlockNumber_d, BlockMiner_s
| where DistinctMiners > 1
```

##### <a name="get-average-peer-count-for-a-specified-validator-node-averaged-over-5-minute-buckets"></a>Возвращает среднее количество кэширующих узлов указанного узла проверяющего элемента управления за пятиминутные периоды.

```sql
let PeerCountRegex = @"Syncing with peers: (\d+) active, (\d+) confirmed, (\d+)";
ParityLog_CL
| where Computer == "vl-devn3lgdm-reg1000001"
| project RawData, TimeGenerated
| where RawData matches regex PeerCountRegex
| extend ActivePeers = extract(PeerCountRegex, 1, RawData, typeof(int)) 
| summarize avg(ActivePeers) by bin(TimeGenerated, 5m)
```

### <a name="ssh-access"></a>Доступ по протоколу SSH

По умолчанию доступ к портам SSH запрещен правилом безопасности сетевой группы. Это сделано по соображениям безопасности. Чтобы получить доступ к экземплярам масштабируемых наборов виртуальных машин в сети PoA, значение этого правила следует изменить на \"Разрешить\".

1.  Перейдите в раздел "Обзор" развернутой группы ресурсов с портала Azure.

    ![Обзор SSH](./media/ethereum-poa-deployment-guide/ssh-overview.png)

2.  Выберите группу безопасности сети.

    ![Группа безопасности сети SSH](./media/ethereum-poa-deployment-guide/ssh-nsg.png)

3.  Выберите правило \"allow-ssh\".

    ![Правило ssh-allow](./media/ethereum-poa-deployment-guide/ssh-allow.png)

4.  Измените значение параметра \"Действие\" на "Разрешить".

    ![Значение "Разрешить", активирующее протокол SSH](./media/ethereum-poa-deployment-guide/ssh-enable-allow.png)

5.  Нажмите кнопку \"Сохранить\" (применение изменений может занять несколько минут).

Теперь вы можете удаленно подключиться к виртуальным машинам узлов проверяющих элементов управления по протоколу SSH, используя предоставленное имя администратора и пароль или ключ SSH.
Команда SSH, предоставляющая доступ к первому узлу проверяющего элемента управления (SSH\_TO\_FIRST\_VL\_NODE\_REGION1), отображается в параметре вывода развертывания шаблона (для этого развертывания: ssh - p 4000 poaadmin\@leader4vb.eastus.cloudapp.azure.com). Чтобы получить дополнительные узлы транзакций, увеличьте номер порта на единицу (например, первый узел транзакций находится на порту 4000).

Если вы развернули сеть в нескольких регионах, измените в приведенной выше команде DNS-имя или IP-адрес подсистемы балансировки нагрузки на использующиеся в этих регионах. Чтобы найти DNS-имя или IP-адрес этих регионов, найдите ресурс с соглашением об именовании \*\*\*\*\*-lbpip-reg\# и просмотрите соответствующие свойства.

### <a name="azure-traffic-manager-load-balancing"></a>Балансировка нагрузки диспетчера трафика Azure

Диспетчер трафика Azure позволяет сократить время простоя и улучшить скорость реакции сети PoA путем направления входящего трафика по множеству развертываний в разных регионах. Встроенные возможности проверки работоспособности и автоматического перенаправления обеспечивают высокий уровень доступности конечных точек RPC и децентрализованного приложения системы управления. Это полезно в том случае, если вы развернули сеть в нескольких регионах и планируете использовать ее в рабочей среде.

Диспетчер трафика позволяет:

-   Повысить доступность сети PoA за счет автоматической отработки отказа.

-   Ускорить отклик сети за счет маршрутизации пользователей в расположения Azure с наименьшей задержкой в сети.

Если вы решите создать профиль диспетчера трафика, с помощью его DNS-имени можно получить доступ к сети. После добавления к сети других участников консорциума с помощью диспетчера трафика можно также балансировать нагрузку по их развернутым проверяющим элементам управления.

#### <a name="creating-a-traffic-manager-profile"></a>Создание профиля диспетчера трафика

На портале Azure нажмите кнопку \"Создать ресурс\", а затем найдите и выберите \"Профиль диспетчера трафика\".

![Поиск параметра "Профиль диспетчера трафика"](./media/ethereum-poa-deployment-guide/traffic-manager-search.png)

Введите уникальное имя профиля и выберите группу ресурсов, созданную во время развертывания PoA.

![Создание диспетчера трафика](./media/ethereum-poa-deployment-guide/traffic-manager-create.png)

После развертывания выберите нужный экземпляр в группе ресурсов. DNS-имя доступа к диспетчеру трафика отображается на вкладке "Обзор".

![Поиск DNS диспетчера трафика](./media/ethereum-poa-deployment-guide/traffic-manager-dns.png)

Перейдите на вкладку "Конечные точки" и нажмите кнопку "Добавить". Измените тип целевого ресурса на общедоступный IP-адрес. Выберите общедоступный IP-адрес подсистемы балансировки нагрузки первого региона.

![Маршрутизации диспетчера трафика](./media/ethereum-poa-deployment-guide/traffic-manager-routing.png)

Повторите эти шаги для каждого региона в развернутой сети. После включения \"конечных точек\" они автоматически загружаются, а нагрузка распределяется по регионам на уровне DNS-имени диспетчера трафика. Теперь вы можете использовать это DNS-имя и параметр \[CONSORTIUM\_DATA\_URL\] на других шагах документации.

## <a name="data-api"></a>API данных

Каждый участник консорциума размещает информацию, на основе которой выполняется подключение к сети. Имеющийся участник предоставляет значение параметра [CONSORTIUM_DATA_URL] перед развертыванием. После развертывания присоединяемый участник получит сведения из интерфейса JSON на следующей конечной точке:

`<CONSORTIUM_DATA_URL>/networkinfo`

Ответ содержит сведения, которые могут понадобиться присоединяемым участникам (первичный блок, ABI контракта набора проверяющих элементов управления, загрузочные узлы), а также имеющимся участникам (адреса проверяющих элементов управления). Мы советуем расширить консорциум несколькими поставщиками облачных служб, используя такую стандартизацию. Этот API возвращает ответ в формате JSON со следующей структурой:
```json
{
  "$id": "", 
  "type": "object", 
  "definitions": {}, 
  "$schema": "http://json-schema.org/draft-07/schema#", 
  "properties": {
    "majorVersion": {
      "$id": "/properties/majorVersion", 
      "type": "integer", 
      "title": "This schema’s major version", 
      "default": 0, 
      "examples": [
        0
      ]
    }, 
    "minorVersion": {
      "$id": "/properties/minorVersion", 
      "type": "integer", 
      "title": "This schema’s minor version", 
      "default": 0, 
      "examples": [
        0
      ]
    }, 
    "bootnodes": {
      "$id": "/properties/bootnodes", 
      "type": "array", 
      "items": {
        "$id": "/properties/bootnodes/items", 
        "type": "string", 
        "title": "This member’s bootnodes", 
        "default": "", 
        "examples": [
          "enode://a348586f0fb0516c19de75bf54ca930a08f1594b7202020810b72c5f8d90635189d72d8b96f306f08761d576836a6bfce112cfb6ae6a3330588260f79a3d0ecb@10.1.17.5:30300", 
          "enode://2d8474289af0bb38e3600a7a481734b2ab19d4eaf719f698fe885fb239f5d33faf217a860b170e2763b67c2f18d91c41272de37ac67386f80d1de57a3d58ddf2@10.1.17.4:30300"
        ]
      }
    }, 
    "valSetContract": {
      "$id": "/properties/valSetContract", 
      "type": "string", 
      "title": "The ValidatorSet Contract Source", 
      "default": "", 
      "examples": [
        "pragma solidity 0.4.21;\n\nimport \"./SafeMath.sol\";\nimport \"./Utils.sol\";\n\ncontract ValidatorSet …"
      ]
    }, 
    "adminContract": {
      "$id": "/properties/adminContract", 
      "type": "string", 
      "title": "The AdminSet Contract Source", 
      "default": "", 
      "examples": [
        "pragma solidity 0.4.21;\nimport \"./SafeMath.sol\";\nimport \"./SimpleValidatorSet.sol\";\nimport \"./Admin.sol\";\n\ncontract AdminValidatorSet is SimpleValidatorSet { …"
      ]
    }, 
    "adminContractABI": {
      "$id": "/properties/adminContractABI", 
      "type": "string", 
      "title": "The Admin Contract ABI", 
      "default": "", 
      "examples": [
        "[{\"constant\":false,\"inputs\":[{\"name\":\"proposedAdminAddress\",\"type\":\"address\"},…"
      ]
    }, 
    "paritySpec": {
      "$id": "/properties/paritySpec", 
      "type": "string", 
      "title": "The Parity client spec file", 
      "default": "", 
      "examples": [
        "\n{\n \"name\": \"PoA\",\n \"engine\": {\n \"authorityRound\": {\n \"params\": {\n \"stepDuration\": \"2\",\n \"validators\" : {\n \"safeContract\": \"0x0000000000000000000000000000000000000006\"\n },\n \"gasLimitBoundDivisor\": \"0x400\",\n \"maximumExtraDataSize\": \"0x2A\",\n \"minGasLimit\": \"0x2FAF080\",\n \"networkID\" : \"0x9a2112\"\n }\n }\n },\n \"params\": {\n \"gasLimitBoundDivisor\": \"0x400\",\n \"maximumExtraDataSize\": \"0x2A\",\n \"minGasLimit\": \"0x2FAF080\",\n \"networkID\" : \"0x9a2112\",\n \"wasmActivationTransition\": \"0x0\"\n },\n \"genesis\": {\n \"seal\": {\n \"authorityRound\": {\n \"step\": \"0x0\",\n \"signature\": \"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\n }\n },\n \"difficulty\": \"0x20000\",\n \"gasLimit\": \"0x2FAF080\"\n },\n \"accounts\": {\n \"0x0000000000000000000000000000000000000001\": { \"balance\": \"1\", \"builtin\": { \"name\": \"ecrecover\", \"pricing\": { \"linear\": { \"base\": 3000, \"word\": 0 } } } },\n \"0x0000000000000000000000000000000000000002\": { \"balance\": \"1\", \"builtin\": { \"name\": \"sha256\", \"pricing\": { \"linear\": { \"base\": 60, \"word\": 12 } } } },\n \"0x0000000000000000000000000000000000000003\": { \"balance\": \"1\", \"builtin\": { \"name\": \"ripemd160\", \"pricing\": { \"linear\": { \"base\": 600, \"word\": 120 } } } },\n \"0x0000000000000000000000000000000000000004\": { \"balance\": \"1\", \"builtin\": { \"name\": \"identity\", \"pricing\": { \"linear\": { \"base\": 15, \"word\": 3 } } } },\n \"0x0000000000000000000000000000000000000006\": { \"balance\": \"0\", \"constructor\" : \"…\" }\n }\n}"
      ]
    }, 
    "errorMessage": {
      "$id": "/properties/errorMessage", 
      "type": "string", 
      "title": "Error message", 
      "default": "", 
      "examples": [
        ""
      ]
    }, 
    "addressList": {
      "$id": "/properties/addressList", 
      "type": "object", 
      "properties": {
        "addresses": {
          "$id": "/properties/addressList/properties/addresses", 
          "type": "array", 
          "items": {
            "$id": "/properties/addressList/properties/addresses/items", 
            "type": "string", 
            "title": "This member’s validator addresses", 
            "default": "", 
            "examples": [
              "0x00a3cff0dccc0ecb6ae0461045e0e467cff4805f", 
              "0x009ce13a7b2532cbd89b2d28cecd75f7cc8c0727"
            ]
          }
        }
      }
    }
  }
}

```
## <a name="development"></a>Разработка

### <a name="programmatically-interacting-with-a-smart-contract"></a>Взаимодействие со смарт-контрактами программным образом

> [!WARNING]
> Никогда не отравляйте закрытый ключ Ethereum по сети! Сначала убедитесь, что каждая транзакция имеет локальную подпись, а затем их можно отправлять по сети.

В следующем примере мы с помощью команды *ethereumjs-wallet* создадим адрес Ethereum, с помощью команды *ethereumjs-tx* подпишем транзакцию локально и с помощью команды *web3* отправим необработанную транзакцию на конечную точку RPC Ethereum.

В этом примере используется простой смарт-контракт Hello-World:

```javascript
pragma solidity ^0.4.11;
contract postBox {
    string message;
    function postMsg(string text) public {
        message = text; 
    }
    function getMsg() public view returns (string) {
        return message;
    }
}
```

В этом примере предполагается, что контракт уже развернут. Если нет, его можно развернуть программно с помощью команд *solc* и *web3*. Сначала установите следующие модули узлов:
```
sudo npm install web3@0.20.2
sudo npm install ethereumjs-tx@1.3.6
sudo npm install ethereumjs-wallet@0.6.1
```
Скрипт nodeJS выполнит следующее:

-   создаст необработанную транзакцию postMsg;

-   подпишет эту транзакцию с помощью созданного закрытого ключа;

-   отправит подписанную транзакцию в сеть Ethereum.

```javascript
var ethereumjs = require('ethereumjs-tx')
var wallet = require('ethereumjs-wallet')
var Web3 = require('web3')

// TODO Replace with your contract address
var address = "0xfe53559f5f7a77125039a993e8d5d9c2901edc58";
var abi = [{"constant": false,"inputs": [{"name": "text","type": "string"}],"name": "postMsg","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "getMsg","outputs": [{"name": "","type": "string"}],"payable": false,"stateMutability": "view","type": "function"}];

// Generate a new Ethereum account
var account = wallet.generate();
var accountAddress = account.getAddressString()
var privateKey = account.getPrivateKey();

 // TODO Replace with your RPC endpoint
 var web3 = new Web3(new Web3.providers.HttpProvider(
    "http://testzvdky-dns-reg1.eastus.cloudapp.azure.com:8545"));
 
// Get the current nonce of the account
 web3.eth.getTransactionCount(accountAddress, function (err, nonce) {
   var data = web3.eth.contract(abi).at(address).postMsg.getData("Hello World");
   var rawTx = {
     nonce: nonce,
     gasPrice: '0x00', 
     gasLimit: '0x2FAF080',
     to: address, 
     value: '0x00', 
     data: data
   }
   var tx = new ethereumjs(rawTx);
   
   tx.sign(privateKey);

   var raw = '0x' + tx.serialize().toString('hex');
   web3.eth.sendRawTransaction(raw, function (txErr, transactionHash) {
     console.log("TX Hash: " + transactionHash);
     console.log("Error: " + txErr);
   });
 });
```

### <a name="debug-a-smart-contract-truffle-develop"></a>Отладка смарт-контрактов (Truffle Develop)

Truffle имеет локальную сеть разработки, с помощью которой можно выполнять отладку смарт-контрактов. Полное руководство см. [здесь](http://truffleframework.com/tutorials/debugging-a-smart-contract).

### <a name="webassembly-wasm-support"></a>Поддержка WebAssembly (WASM)

Поддержка WebAssembly по умолчанию реализована в развернутой сети PoA. Это позволяет разрабатывать смарт-контракты на любом языке, который компилируется в код Web-Assembly (Rust, C, C++). Дополнительные сведения см. по ссылкам ниже:

-   Обзор WebAssembly от Parity — <https://wiki.parity.io/WebAssembly-Home>

-   Руководство от ParityTech — <https://github.com/paritytech/pwasm-tutorial>

## <a name="faq"></a>Часто задаваемые вопросы

### <a name="i-notice-a-bunch-of-transactions-on-the-network-that-i-didnt-send-where-are-these-coming-from"></a>В сети есть ряд не отправляемых мною транзакций. Откуда они поступают?

Разблокировать [личный API](https://web3js.readthedocs.io/en/1.0/web3-eth-personal.html) небезопасно. Учетные записи ботов прослушивают разблокированные учетные записи Ethereum в попытке кражи денежных средств. Бот предполагает, что эти учетные записи содержат эфир, и пытается первым перевести эти средства. Не включайте личные API в сети. Вместо это подпишите транзакции вручную, используя кошелек, например MetaMask, или программно, как описано в разделе "Взаимодействие со смарт-контрактами программным образом".

### <a name="how-to-ssh-onto-a-vm"></a>Как подключиться по протоколу SSH к виртуальной машине?

По соображениям безопасности мы блокируем SSH-порт. Сведения о том, как включить SSH-порт, см. в [этом руководстве](#_Accessing_Nodes_via).

### <a name="how-do-i-set-up-an-audit-member-or-transaction-nodes"></a>Как настроить аудит узлов транзакций и участников?

Узлы транзакций — это набор клиентов Parity, между которыми настраивается пиринговая связь с сетью, но которые не участвуют в консенсусе. С помощью этих узлов можно по-прежнему отправлять транзакции Ethereum и считывать состояние смарт-контрактов.
Это удобный механизм обеспечения возможности выполнения аудита регулирующими органами сети. Чтобы обеспечить это, выполните шаг 2 из раздела "Расширение консорциума".

### <a name="why-are-metamask-transactions-taking-a-long-time"></a>Почему транзакции MetaMask занимают много времени?

Чтобы обеспечить правильный порядок получения транзакций, каждая из них отправляется с увеличивающимся номером nonce. Если вы использовали учетную запись в MetaMask в другой сети, значение nonce необходимо сбросить. Щелкните значок параметров (3 линии), выберите "Параметры" и щелкните Reset Account (Сбросить учетную запись). Журнал транзакции очистится, и вы сможете повторно отправить транзакцию.

### <a name="are-public-ip-deployments-compatible-with-private-network-deployments"></a>Совместимы ли развертывания с общедоступным IP-адресом с развертываниями с частной сетью?

Нет. Кэширующему узлу требуется двусторонний обмен данными, поэтому все сети должны быть общедоступными или частными.

## <a name="next-steps"></a>Дополнительная информация

Начните работу, получив решение [Ethereum Proof-of-Authority Consortium](https://portal.azure.com/?pub_source=email&pub_status=success#create/microsoft-azure-blockchain.azure-blockchain-ethereumethereum-poa-consortium).
