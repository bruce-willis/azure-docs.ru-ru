---
title: Реплики чтения в базе данных Azure для MySQL.
description: В этой статье описывается настройка реплик чтения для базы данных Azure для MySQL.
services: mysql
author: ajlam
ms.author: andrela
editor: jasonwhowell
ms.service: mysql
ms.topic: conceptual
ms.date: 09/24/2018
ms.openlocfilehash: 283b529aa8c6431ea725b066c9b5cb3db19a929b
ms.sourcegitcommit: 32d218f5bd74f1cd106f4248115985df631d0a8c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2018
ms.locfileid: "46969450"
---
# <a name="read-replicas-in-azure-database-for-mysql"></a>Реплики чтения в базе данных Azure для MySQL

Компонент "Реплики чтения" (предварительная версия) позволяет реплицировать данные из базы данных Azure для сервера MySQL (главный сервер) на несколько (до пяти) серверов только для чтения (реплики) в одном регионе Azure. Реплики только для чтения асинхронно обновляются с помощью технологии репликации на основе позиции файла собственного двоичного журнала (binlog) ядра MySQL. Дополнительные сведения о репликации binlog MySQL см. в [этой статье](https://dev.mysql.com/doc/refman/5.7/en/binlog-replication-configuration-overview.html).

Реплики, созданные в базе данных Azure для MySQL, — это новые серверы, управление которыми аналогично управлению обычными или изолированными серверами MySQL. Эти серверы оплачиваются по тому же тарифу, что и изолированный сервер.

Дополнительные сведения о функциях и проблемах репликации MySQL см. в [документации по репликации MySQL](https://dev.mysql.com/doc/refman/5.7/en/replication-features.html).

## <a name="when-to-use-read-replicas"></a>Когда следует использовать реплики чтения

Приложения и рабочие нагрузки с большим объемом операций чтения могут обслуживаться репликами только для чтения. Реплики чтения помогают повысить производительность операций чтения по сравнению с использованием изолированного сервера для операций чтения и записи. Рабочие нагрузки чтения можно изолировать в реплики, направив рабочие нагрузки записи в главную базу данных.

К типичным сценариям относится ситуация, когда рабочие нагрузки бизнес-аналитики и анализа используют реплику чтения в качестве источника данных для отчетов.

## <a name="considerations-and-limitations"></a>Ограничения и рекомендации

### <a name="pricing-tiers"></a>Ценовые категории

Реплики чтения сейчас доступны только в ценовых категориях "Общее назначение" и "Оптимизировано для памяти".

### <a name="stopping-replication"></a>Остановка репликации

Вы можете остановить репликацию между главным сервером и сервером-репликой. Остановка репликации подразумевает удаление отношения репликации между главным сервером и сервером-репликой.

После остановки репликации сервер-реплика становится изолированным сервером. Данные на изолированном сервере — это данные, которые были доступны в реплике на момент запуска команды "Остановить репликацию". Данные на изолированном сервере не синхронизируются с главным сервером. Это сервер нельзя снова преобразовать в реплику.

### <a name="replicas-are-new-servers"></a>Реплики — это новые серверы

Реплики создаются как новые серверы базы данных Azure для MySQL. Существующие серверы нельзя преобразовать в реплики.

### <a name="replica-server-configuration"></a>Конфигурация сервера-реплики

Серверы-реплики создаются с помощью тех же конфигураций сервера, что и главный сервер, включая следующие аспекты:

- Ценовой уровень
- Поколение вычислительных ресурсов
- Виртуальные ядра
- служба хранилища.
- Срок хранения моментального снимка
- Вариант избыточности для резервного копирования
- Версия ядра MySQL

После создания реплики можно изменить ценовую категорию (за исключением базовой), поколение вычислительных ресурсов, виртуальные ядра, хранилище и срок хранения резервных копий независимо от главного сервера.

### <a name="master-server-configuration"></a>Конфигурация главного сервера

Если конфигурация главного сервера (например, виртуальных ядер или хранилища) изменяется, необходимо также изменить конфигурацию реплики, задав равные или большие значения. В противном случае сервер-реплика не будет соответствовать изменениям, внесенным в конфигурацию главного сервера, что может повлечь за собой сбой сервера. 

### <a name="deleting-the-master-server"></a>Удаление главного сервера

При удалении главного сервера репликация останавливается для всех реплик чтения. Эти реплики становятся изолированными серверами. Удаляется сам главный сервер.

### <a name="user-accounts"></a>Учетные записи пользователей

Пользователи на главном сервере реплицируются в реплики чтения. К реплике чтения можно подключиться только с помощью учетных записей пользователей, доступных на главном сервере.

### <a name="other"></a>Другие

- Идентификаторы глобальных транзакций (GTID) не поддерживаются.
- Создание реплики реплики не поддерживается.
- Таблицы в памяти могут вызывать рассинхронизацию реплик. Это ограничение технологии репликации MySQL. Дополнительные сведения см. в [справочной документации по MySQL](https://dev.mysql.com/doc/refman/5.7/en/replication-features-memory.html).
- Настройка параметра [`innodb_file_per_table`](https://dev.mysql.com/doc/refman/5.7/en/innodb-multiple-tablespaces.html) на главном сервере после создания сервера-реплики может привести к рассинхронизации реплики. Сервер-реплика не учитывает разные табличные пространства.
- Полный список ограничений репликации MySQL см. в [документации по MySQL](https://dev.mysql.com/doc/refman/5.7/en/replication-features.html).


## <a name="next-steps"></a>Дополнительная информация

- Узнайте, как [создавать реплики чтения и управлять ими с помощью портала Azure](howto-read-replicas-portal.md).

<!--
- Learn how to [create and manage read replicas using the Azure CLI](howto-read-replicas-using-cli.md)
-->
