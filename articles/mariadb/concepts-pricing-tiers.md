---
title: Ценовые категории службы "База данных Azure для MariaDB"
description: В этой статье описаны ценовые категории службы "База данных Azure для MariaDB".
author: jan-eng
ms.author: janeng
editor: jasonwhowell
services: mariadb
ms.service: mariadb
ms.topic: conceptual
ms.date: 09/24/2018
ms.openlocfilehash: 92db6442352242d5c7f25d39442d208d6007621b
ms.sourcegitcommit: 32d218f5bd74f1cd106f4248115985df631d0a8c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2018
ms.locfileid: "46984350"
---
# <a name="azure-database-for-mariadb-pricing-tiers"></a>Ценовые категории службы "База данных Azure для MariaDB"

Вы можете создать сервер базы данных Azure для MariaDB в одной из трех ценовых категорий: "Базовый", "Общего назначения" и "Оптимизированный для операций в памяти". Ценовые категории различаются объемом вычислительных ресурсов в виртуальных ядрах, которые можно подготовить, объемом памяти на виртуальное ядро и технологиями хранения данных. Все ресурсы подготавливаются на уровне сервера MariaDB. У сервера может быть одна или несколько баз данных.

|    | **базовая;** | **Общего назначения** | **С оптимизацией для операций в памяти** |
|:---|:----------|:--------------------|:---------------------|
| Поколение вычислительных ресурсов | <!--Gen 4,--> 5 поколение |<!--Gen 4,--> 5 поколение |<!--Gen 4,--> 5 поколение |
| Виртуальные ядра | 1, 2 | 2, 4, 8, 16, 32 |2, 4, 8, 16 |
| Объем памяти на виртуальное ядро | 2 ГБ | 5 ГБ | 10 ГБ |
| Размер хранилища | От 5 ГБ до 1 ТБ | От 5 ГБ до 4 ТБ | От 5 ГБ до 4 ТБ |
| Тип хранилища | Служба хранилища Azure класса Standard | Хранилище Azure класса Premium | Хранилище Azure класса Premium |
| Срок хранения резервной копии | От 7 до 35 дней | От 7 до 35 дней | От 7 до 35 дней |

Чтобы выбрать ценовую категорию, в качестве отправной точки используйте следующую таблицу.

| Ценовой уровень | Целевые рабочие нагрузки |
|:-------------|:-----------------|
| базовая; | Рабочие нагрузки с невысокими вычислительными потребностями и производительностью операций ввода-вывода. В качестве примера можно привести серверы, используемые для разработки или тестирования, или небольшие редко используемые приложения. |
| Общего назначения | Для решения большинства бизнес-задач требуются сбалансированные вычислительные ресурсы и память с масштабируемой пропускной способностью операций ввода-вывода. К примерам относятся серверы для размещения мобильных и веб-приложений, а также других корпоративных приложений.|
| С оптимизацией для операций в памяти | Рабочие нагрузки с высокой производительностью базы данных, требующие эффективной обработки данных в памяти для быстрого выполнения транзакций и повышения уровня параллелизма. К примерам относятся серверы для обработки данных в режиме реального времени, а также аналитические или транзакционные приложения с высоким уровнем производительности.|

После создания сервера количество виртуальных ядер и ценовую категорию (кроме переключения на категорию "Базовый" и с нее) можно увеличить и уменьшить в считаные секунды. Кроме того, можно независимо друг от друга увеличивать и уменьшать объем хранилища и срок хранения резервных копий без простоя приложения. После создания сервера невозможно изменить тип хранилища резервных копий. Дополнительные сведения см. в разделе [Масштабирование ресурсов](#scale-resources).

## <a name="compute-generations-and-vcores"></a>Поколения вычислительных ресурсов и виртуальные ядра

Вычислительные ресурсы поставляются в виде виртуальных ядер, которые представляют собой логические ЦП основного оборудования.<!--Currently, you can choose from two compute generations, Gen 4 and Gen 5. Gen 4 logical CPUs are based on Intel E5-2673 v3 (Haswell) 2.4-GHz processors.--> Логические ЦП 5-го поколения основаны на процессорах Intel E5-2673 v4 (Broadwell) с тактовой частотой 2,3 ГГц.

<!--
| **Azure region** | **Gen 5** |
|:---|:----------:|:--------------------:|
| Central US | X | X |
| East US | X | X |
| East US 2 | X | X |
| North Central US | X | X |
| South Central US | X | X |
| West US | X | X |
| West US 2 |  | X |
| Canada Central | X | X |
| Canada East | X | X |
| Brazil South | X | X |
| North Europe | X | X |
| West Europe |  | X |
| France Central |  | X |
| UK West |  | X |
| UK South |  | X |
| East Asia | X | X |
| Southeast Asia | X | X |
| Australia East |  | X |
| Australia Central |  | X |
| Australia Central 2 |  | X |
| Australia Southeast |  | X |
| Central India | X | X |
| West India | X | X |
| South India |  | X |
| Japan East | X | X |
| Japan West | X | X |
| Korea Central |  | X |
| Korea South |  | X |
-->

## <a name="storage"></a>служба хранилища.

Хранилище, которое вы подготавливаете, определяет объем доступной емкости хранилища для сервера службы "База данных Azure для MariaDB". Хранилище используется для файлов базы данных, временных файлов, журналов транзакций и журналов сервера MariaDB. Общий объем хранилища, который вы подготовили, также определяет доступную производительность операций ввода-вывода для сервера.

|    | **базовая;** | **Общего назначения** | **С оптимизацией для операций в памяти** |
|:---|:----------|:--------------------|:---------------------|
| Тип хранилища | Служба хранилища Azure класса Standard | Хранилище Azure класса Premium | Хранилище Azure класса Premium |
| Размер хранилища | От 5 ГБ до 1 ТБ | От 5 ГБ до 4 ТБ | От 5 ГБ до 4 ТБ |
| Шаг приращения хранилища | 1 GB | 1 GB | 1 GB |
| ОПЕРАЦИЙ ВВОДА-ВЫВОДА | Переменная |3 операции ввода-вывода в секунду на ГБ<br/>Минимум 100 операций ввода-вывода в секунду<br/>Макс. 6000 операций ввода-вывода в секунду | 3 операции ввода-вывода в секунду на ГБ<br/>Минимум 100 операций ввода-вывода в секунду<br/>Макс. 6000 операций ввода-вывода в секунду |

Вы можете добавить дополнительную емкость во время и после создания сервера. Для ценовой категории "Базовый" фиксированное число операций ввода-вывода в секунду не гарантируется. В категориях "Общего назначения" и "С оптимизацией для операций в памяти" показатель операций ввода-вывода в секунду соотносится с подготовленным размером хранилища как 3 к 1.

Вы можете отслеживать показатель операций ввода-вывода на портале Azure или с помощью команд Azure CLI. Следует отслеживать такие метрики, как размер хранилища, процентное соотношение для хранилища, используемое хранилище и процент операций ввода-вывода данных.
<!--[storage limit, storage percentage, storage used, and IO percent](concepts-monitoring.md)-->

### <a name="reaching-the-storage-limit"></a>Достигнут размер хранилища

Сервер помечается как доступный только для чтения, когда объем свободной емкости хранилища становится меньше 5 ГБ или 5 % от емкости подготовленного хранилища (смотря какое значение меньше). Например, если вы подготовили 100 ГБ хранилища и фактическое использование превысило 95 ГБ, то сервер помечается как доступный только для чтения. Еще пример: если вы подготовили 5 ГБ хранилища, то сервер помечается как доступный только для чтения, когда остается менее 250 МБ свободного хранилища.  

Пока служба пытается пометить сервер как доступный только для чтения, блокируются все новые запросы на запись транзакций, а выполнение существующих активных транзакций продолжается. Если сервер помечен как доступный только для чтения, все последующие операции записи и фиксации транзакций не выполняются. Запросы на чтение продолжат обрабатываться без перерыва. После повышения емкости подготовленного хранилища сервер снова будет готов к принятию транзакций записи.

Мы рекомендуем настроить оповещение для получения уведомления о приближении к порогу емкости хранилища сервера, чтобы избежать перехода в состояние только для чтения. <!--For more information, see the documentation on [how to set up an alert](howto-alert-on-metric.md).-->

## <a name="backup"></a>Azure Backup

В службе автоматически создаются резервные копии сервера. Минимальный срок хранения резервных копий составляет семь дней. Можно увеличить срок вплоть до 35 дней. Срок хранения можно изменить в любой момент времени существования сервера. Вы можете выбрать локально избыточное или геоизбыточное резервное копирование. Геоизбыточные резервные копии хранятся в [регионе, географически связанном](https://docs.microsoft.com/azure/best-practices-availability-paired-regions) с тем, в котором создан сервер. Эта избыточность обеспечивает защиту сервера в случае аварии. Также вы можете восстановить сервер в любом регионе Azure, в котором доступна служба с геоизбыточным резервным копированием. После создания сервера нельзя изменить один вариант хранилища резервных копий на другой.

## <a name="scale-resources"></a>Масштабирование ресурсов

После создания сервера можно независимо друг от друга изменять количество виртуальных ядер, <!--the hardware generation,--> ценовую категорию (кроме переключения на категорию "Базовый" и с нее), объем хранилища и срок хранения резервных копий. После создания сервера невозможно изменить тип хранилища резервных копий. Число виртуальных ядер можно увеличивать или уменьшать. Срок хранения резервных копий можно увеличивать и уменьшать в диапазоне от 7 до 35 дней. Размер хранилища можно только увеличить. Масштабирование ресурсов можно выполнить с помощью портала или Azure CLI. <!--For an example of scaling by using Azure CLI, see [Monitor and scale an Azure Database for MariaDB server by using Azure CLI](scripts/sample-scale-server.md).-->

При изменении количества виртуальных ядер, <!--the hardware generation,--> или ценовой категории создается копия сервера-источника с новым распределением вычислительных ресурсов. После того как новый сервер заработает, подключения переключатся на него. Во время перехода системы на новый сервер нельзя будет установить новые подключения, а для всех незафиксированных транзакций будет выполнен откат. Длительность этого промежутка может быть разной, но, как правило, он составляет меньше минуты.

Масштабирование хранилища и изменение срока хранения резервных копий — это полностью интерактивные операции. Они не останавливают работу приложения и не влияют на нее. Так как количество операций ввода-вывода в секунду возрастает по мере увеличения размера подготовленного хранилища, вы можете увеличивать количество доступных операций ввода-вывода на сервере путем масштабирования хранилища.

## <a name="pricing"></a>Цены

Наиболее актуальные сведения о стоимости см. в статье [Цены на Базу данных Azure для PostgreSQL](https://azure.microsoft.com/pricing/details/mariadb/). Расходы на вашу конфигурацию можно посмотреть на [портале Azure](https://portal.azure.com/#create/Microsoft.MariaDBServer). На вкладке **Ценовая категория** отображается ежемесячная стоимость выбранных параметров. Если у вас нет подписки Azure, для расчета цены можно воспользоваться калькулятором цен Azure. На сайте с [калькулятором цен Azure](https://azure.microsoft.com/pricing/calculator/) нажмите кнопку **Добавить элементы**, разверните категорию **Базы данных** и выберите **База данных Azure для MariaDB**, чтобы настроить параметры.

## <a name="next-steps"></a>Дополнительная информация
- [Ограничения в базе данных Azure для PostgreSQL](concepts-limits.md).
- Узнайте, как [создать сервер MariaDB на портале Azure](quickstart-create-mariadb-server-database-using-azure-portal.md).

<!--
- Learn how to [monitor and scale an Azure Database for MariaDB server by using Azure CLI](scripts/sample-scale-server.md).-->