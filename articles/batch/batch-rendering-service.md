---
title: Общие сведения о рендеринге в пакетной службе Azure
description: Общие сведения об использовании Azure для рендеринга и обзор возможностей рендеринга в пакетной службе Azure
services: batch
author: mscurrell
ms.author: markscu
ms.date: 08/02/2018
ms.topic: conceptual
ms.openlocfilehash: 4101f6819dff81376dcab47adb57e4b8ef35e094
ms.sourcegitcommit: 387d7edd387a478db181ca639db8a8e43d0d75f7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/10/2018
ms.locfileid: "40036763"
---
# <a name="rendering-using-azure"></a>Рендеринг с помощью Azure

Процесс рендеринга принимает на вход трехмерные модели и преобразует их в двумерные изображения. Файлы трехмерных сцен разрабатываются в специализированных приложениях: Autodesk 3ds Max, Autodesk Maya и Blender.  На их основе приложения для рендеринга, например Autodesk Maya, Autodesk Arnold, Chaos Group V-Ray и Blender Cycles создают двумерные изображения.  Иногда из файлов сцены создаются отдельные изображения. Но чаще всего моделирование и рендеринг подразумевают создание целых серий изображений, которые затем объединяются в анимацию.

Рабочая нагрузка рендеринга часто используется в индустрии мультимедиа и развлечения для создания специальных эффектов. Также рендеринг находит применение во многих других отраслях: реклама, розничная торговля, нефть и газ, производство.

Процесс рендеринга требует большого объема вычислений: часто создается очень много кадров (изображений), обработка каждого из которых занимает несколько часов.  Все это означает, что рабочая нагрузка рендеринга идеально подходит для пакетного выполнения. Платформа Azure и пакетная служба Azure могут параллельно выполнять много операций рендеринга.

## <a name="why-use-azure-for-rendering"></a>Почему Azure идеально подходит для рендеринга?

Есть много причин утверждать, что рабочая нагрузка рендеринга прекрасно совместима с Azure и пакетной службой Azure.

* Задания рендеринга легко разделить на множество частей для параллельного выполнения на нескольких виртуальных машинах:
  * Анимации состоят из большого количества кадров, каждый из которых можно обрабатывать независимо от других.  Чем больше виртуальных машин будет выделено для обработки кадров, тем быстрее завершится подготовка всех кадров и анимации.
  * Некоторые программы для рендеринга позволяют разделять кадры на отдельные части, именуемые фрагментами или срезами.  Каждый такой фрагмент обрабатывается отдельно, а по мере готовности частей они объединяются в итоговое изображение.  Чем больше для этого выделено виртуальных машин, тем быстрее будет создан кадр.
* Рендеринг может выполняться в очень больших объемах:
  * Отдельные кадры могут быть настолько сложными, что для их рендеринга потребуется много часов работы даже на современном оборудовании, а полные анимации могут состоять из сотен тысяч таких кадров.  Чтобы создать анимацию высокого качества за разумный срок, требуется огромный объем вычислительных ресурсов.  В некоторых случаях на практике применялось более 100 000 ядер для параллельного рендеринга нескольких тысяч кадров.
* Проекты рендеринга имеют уникальные характеристики и требуют разных объемов вычислений:
  * Выделяйте требуемый объем ресурсов для вычислений и хранения, масштабируйте систему в соответствии с требованиями конкретного проекта, а после завершения проекта спокойно удалите ненужные ресурсы.
  * Оплачивайте только реально выделенную мощность, экономя средства в периоды простоя между проектами.
  * Получите возможность реагировать на пиковые нагрузки из-за непредвиденных изменений. Увеличьте масштаб, если на поздней стадии проекта изменились требования и (или) ужесточились сроки обработки.
* Для вас доступен широкий спектр оборудования для разных приложений, рабочих нагрузок и графиков:
  * Azure предлагает большой выбор оборудования, которое можно выделить и контролировать в пакетной службе.
  * В зависимости от конкретного проекта можно выбрать баланс стоимости и производительности или максимальную производительность.  Для разных сцен и (или) приложений для рендеринга действуют разные требования к памяти.  Некоторые приложения для рендеринга используют графические процессоры для повышения производительности или выполнения определенных функций. 
* Низкоприоритетные виртуальные машины сокращают затраты:
  * Низкоприоритетные виртуальные машины предоставляются со значительной скидкой в сравнении с обычными виртуальными машинами по запросу, что очень удобно для некоторых типов заданий.
  * Низкоприоритетные виртуальные машины можно выделять через пакетную службу Azure, которая обеспечит гибкость в использовании с учетом широкого набора требований.  Пулы пакетной службы могут одновременно содержать выделенные и низкоприоритетные виртуальные машины, что позволит в любое время изменять используемое сочетание виртуальных машин.

## <a name="options-for-rendering-on-azure"></a>Доступные варианты рендеринга в Azure

В Azure есть несколько функциональных возможностей, используемых для рабочих нагрузок рендеринга.  Оптимальный выбор зависит от используемой среды и конкретных требований.

### <a name="existing-on-premises-rendering-environment-using-a-render-management-application"></a>Существующая локальная среда рендеринга с приложением управления рендерингом

Наиболее распространенный сценарий включает уже существующую локальную ферму рендеринга, которой управляет специализированное приложение, например PipelineFX Qube, Royal Render или Thinkbox Deadline.  В этом сценарии ставится задача расширить емкость локальной фермы рендеринга за счет применения виртуальных машин Azure.

Программное обеспечение для управления рендерингом должно иметь встроенную поддержку Azure или доступный подключаемый модуль для поддержки Azure. Дополнительные сведения о поддерживаемых диспетчеров рендеринга и доступных функциях вы найдете в статье об [использовании диспетчеров рендеринга](https://docs.microsoft.com/azure/batch/batch-rendering-render-managers).

### <a name="custom-rendering-workflow"></a>Пользовательский рабочий процесс рендеринга

Здесь возникает необходимость расширить с помощью виртуальных машин существующую ферму рендеринга.  Пулы пакетной службы Azure способны выделять огромное количество виртуальных машин, позволяя сочетать низкоприоритетные виртуальные машины с динамическим автомасштабированием и виртуальными машинами за полную стоимость, а также использовать популярные приложения для рендеринга с лицензиями, предусматривающими оплату по мере использования.

### <a name="no-existing-render-farm"></a>Существующая ферма рендеринга отсутствует

Возможно, рендеринг раньше выполнялся на клиентской рабочей станции, но по мере роста требуемых объемов рендеринга такая работа стала занимать слишком много времени.  Пакетная служба Azure может по запросу выделять вычислительные ресурсы для фермы рендеринга, а также назначать задания рендеринга в ферму рендеринга, созданную в Azure.

## <a name="azure-batch-rendering-capabilities"></a>Возможности рендеринга в пакетной службе Azure

Пакетная служба Azure позволяет выполнять в Azure параллельные рабочие нагрузки.  Она поддерживает создание и администрирование большого количества виртуальных машин, а также установку на них приложений для выполнения.  Также она предоставляет широкие возможности по планированию заданий для запуска экземпляров приложений, назначения задач виртуальным машинам, управления очередями, мониторинга приложений и любых других целей.

Пакетная служба Azure используется для многих рабочих нагрузок, но ряд ее характеристик особенно хорошо подходит для быстрого и простого выполнения рабочих нагрузок рендеринга.

* Образы виртуальных машин с предварительно установленными приложениями для графической обработки и рендеринга:
  * В Microsoft Azure Marketplace доступны образы виртуальных машин, которые содержат популярные приложения для графической обработки и рендеринга, что позволит вам не устанавливать такие приложения самостоятельно и не ограничивать работу только конкретными установленными приложениями. 
* Лицензирование с оплатой по мере использования приложений для рендеринга:
  * вы можете оплачивать работу приложений поминутно в дополнение к оплате виртуальных машин для вычислений, избавляясь от необходимости покупать лицензии и (или) настраивать для приложений сервер лицензий.  Также оплата по мере использования позволяет учесть непредвиденные изменения загрузки, ведь вы не ограничены строгим числом приобретенных лицензий;
  * также можно использовать предварительно установленные приложения с собственными лицензиями вместо лицензирования с оплатой по мере использования.
* Подключаемые модули для клиентских приложений разработки и моделирования:
  * подключаемые модули позволяют пользователям обращаться к пакетной службе Azure непосредственно из клиентского приложения (Autodesk Maya и др.), чтобы создавать пулы, назначать задания и повышать вычислительную мощность в для ускорения рендеринга.
* Интеграция диспетчера рендеринга:
  * пакетная служба Azure интегрируется в приложения по управлению рендерингом напрямую или через подключаемые модули.

Существует несколько способов использовать пакетную службу Azure, каждый из которых применим к рендерингу в пакетной службе Azure.

* Интерфейсы API:
  * создавайте код на языках [REST](https://docs.microsoft.com/rest/api/batchservice), [.NET](https://docs.microsoft.com/dotnet/api/overview/azure/batch), [Python](https://docs.microsoft.com/python/api/overview/azure/batch), [Java](https://docs.microsoft.com/java/api/overview/azure/batch) или через другие поддерживаемые API-интерфейсы.  Разработчики могут интегрировать возможности пакетной службы Azure в существующие облачные и локальные приложения или рабочие процессы.  Например [подключаемый модуль для Autodesk Maya](https://github.com/Azure/azure-batch-maya) вызывает пакетную службу через API-интерфейс пакетной службы для Python, создавая пулы и управляя ими, назначая задачи и задания, отслеживая состояние выполнения.
* Программы командной строки:
  * использование пакетной службы можно закодировать в скрипты [командной строки Azure](https://docs.microsoft.com/cli/azure/) или [Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview);
  * в частности, поддержка шаблонов CLI для пакетной службы значительно упрощает создание пулов и отправку заданий.
* Пользовательские интерфейсы:
  * [Batch Explorer](https://github.com/Azure/BatchExplorer) — это кроссплатформенный клиентский инструмент, который поддерживает управление и мониторинг для учетных записей пакетной службы и предлагает более широкий ряд функций по сравнению с интерфейсом портала Azure.  Для каждого поддерживаемого приложения предоставляется набор шаблонов пулов и заданий, с помощью которых можно легко создавать пулы и отправлять задания.
  * Для управления пакетной службой Azure и ее мониторинга можно использовать портал Azure.
* Подключаемые модули для клиентского приложения:
  * Доступны подключаемые модули, которые позволяют использовать функции рендеринга пакетной службы непосредственно из клиентского проекта и приложений для моделирования. Эти подключаемые модули обращаются в основном к приложению обозревателя пакетной службы для получения контекстной информации о текущей 3D-модели.
  * Ниже перечислены доступные подключаемые модули:
    * [пакетная служба Azure для Maya](https://github.com/Azure/azure-batch-maya);
    * [3ds Max](https://github.com/Azure/azure-batch-rendering/tree/master/plugins/3ds-max);
    * [Blender](https://github.com/Azure/azure-batch-rendering/tree/master/plugins/blender).

## <a name="getting-started-with-azure-batch-rendering"></a>Начало работы с рендерингом в пакетной службе Azure

Изучите вводные руководства, чтобы потренироваться в использовании рендеринга пакетной службы Azure:

* [Руководство. Преобразование для просмотра сцены Blender с помощью Batch Explorer](https://docs.microsoft.com/azure/batch/tutorial-rendering-batchexplorer-blender);
* [Руководство по использованию CLI пакетной службы для рендеринга сцены, созданной в Autodesk 3ds Max](https://docs.microsoft.com/azure/batch/tutorial-rendering-cli).

## <a name="next-steps"></a>Дополнительная информация

Список приложений рендеринга и версий в образах виртуальных машин, включенных в Azure Marketplace, вы найдете в [этой статье](https://docs.microsoft.com/azure/batch/batch-rendering-applications).