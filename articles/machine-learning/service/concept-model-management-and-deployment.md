---
title: Развертывание моделей и управление ими в службе "Машинное обучение Azure"
description: Узнайте, как развертывать, отслеживать и администрировать модели с помощью службы "Машинное обучение Azure", чтобы постоянно улучшать их. Модели, обученные с помощью службы "Машинное обучение Azure", можно развертывать на локальном компьютере или из других источников.
services: machine-learning
ms.service: machine-learning
ms.component: core
ms.topic: conceptual
ms.reviewer: jmartens
author: hjerez
ms.author: hjerez
ms.date: 09/24/2018
ms.openlocfilehash: d3e0b63d42ad8c6d4765f5120c26c5dfdf5ad6fb
ms.sourcegitcommit: 51a1476c85ca518a6d8b4cc35aed7a76b33e130f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/25/2018
ms.locfileid: "47166543"
---
# <a name="manage-deploy-and-monitor-models-with-azure-machine-learning"></a>Администрирование, развертывание и мониторинг моделей с помощью службы "Машинное обучение Azure"

В этой статье описано, как развертывать, отслеживать и администрировать модели с помощью службы "Машинное обучение Azure", чтобы постоянно улучшать их. Модели, обученные с помощью службы "Машинное обучение Azure", можно развертывать на локальном компьютере или из других источников. 

На следующей схеме показано полный рабочий процесс развертывания: [ ![Рабочий процесс развертывания в службе "Машинное обучение Azure"](media/concept-model-management-and-deployment/deployment-pipeline.png) ](media/concept-model-management-and-deployment/deployment-pipeline.png#lightbox)

Рабочий процесс включает в себя следующие шаги:
1. **Регистрация модели** в реестре, размещенном в рабочей области службы "Машинное обучение Azure".
1. **Регистрация образа**, который связывает модель со сценарием оценки и зависимостями в переносимом контейнере. 
1. **Развертывание** образа в виде веб-службы в облаке или на пограничных устройствах.
1. **Мониторинг и сбор данных**.

Каждый шаг может выполняться независимо друг от друга или как часть одной команды развертывания. Кроме того, развертывание можно интегрировать в **рабочий процесс CI/CD** как показано на следующем рисунке.

[ ![Цикл непрерывной интеграции и развертывания (CI/CD) в службе "Машинное обучение Azure"](media/concept-model-management-and-deployment/model-ci-cd.png) ](media/concept-model-management-and-deployment/model-ci-cd.png#lightbox).


## <a name="step-1-register-model"></a>Шаг 1. Регистрация модели

В реестре моделей хранятся сведения обо всех моделях в рабочей области машинного обучения Azure.
Модели идентифицируются по имени и версии. При регистрации модели с уже существующим именем реестр увеличивает номер версии. Во время регистрации также можно предоставить дополнительные теги метаданных, которые можно использовать при поиске моделей.

Невозможно удалить модели, которые используются образом.

## <a name="step-2-register-image"></a>Шаг 2. Регистрация образа

Образы обеспечивают надежное развертывание модели, а также всех компонентов, необходимых для ее использования. Образ содержит следующие элементы:

* Модель
* модуль оценки;
* приложение или файл для оценки;
* все зависимости, необходимые для оценки модели.

Образ также может включать компоненты пакета SDK для ведения журнала и мониторинга. Данные журналов пакета SDK можно использовать для точной настройки или повторного обучения модели, включая входные и выходные данные модели.

Служба "Машинное обучение Azure" поддерживает самые популярные платформы, как правило все платформы, на которые можно установить pip.

При создании рабочей области также было создано несколько других используемых ею ресурсов Azure.
Все объекты, используемые для создания образа, хранятся в учетной записи хранения Azure в рабочей области. Образ создается и сохраняется в службе "Реестр контейнеров Azure". При создании образа можно указать дополнительные теги метаданных, которые также хранятся в реестре образов и которые можно запрашивать для поиска образа.

## <a name="step-3-deploy-image"></a>Шаг 3. Развертывание образа

Зарегистрированные образы можно развернуть в облаке или на пограничных устройствах. В процессе развертывания создаются все ресурсы, необходимые для отслеживания, балансировки нагрузки и автоматического масштабирования модели. Доступ к развернутым службам может быть защищен с помощью аутентификации на основе сертификатов. Для этого во время развертывания нужно предоставить ресурсы безопасности. Чтобы использовать новый образ, можно также обновить имеющееся развертывание.

Развертывания веб-служб также доступны для поиска. Например, можно найти все развертывания конкретной модели или образа.

[ ![Запрос на вывод целевых объектов](media/concept-model-management-and-deployment/inferencing-targets.png) ](media/concept-model-management-and-deployment/inferencing-targets.png#lightbox)

Образы можно развернуть на следующих [целевых объектах развертывания](how-to-deploy-and-where.md) в облаке:

* Экземпляр контейнера Azure
* Служба Azure Kubernetes
* компьютеры Azure FPGA;
* устройство Azure IoT Edge.

По мере развертывания службы запрос на вывод автоматически балансируется по нагрузке, а кластер масштабируется, если нужно справиться с пиковыми нагрузками. [Данные телеметрии о службе](https://docs.microsoft.com/python/api/azureml-telemetry/azureml.telemetry?view=azure-ml-py) можно получить через службу Azure Application Insights, связанную с рабочей областью.

## <a name="step-4-monitor-models-and-collect-data"></a>Шаг 4. Мониторинг моделей и сбор данных

Доступен пакет SDK для ведения журналов модели и записи данных, чтобы вы могли отслеживать выходные данные, входные данные и другие релевантные данные модели. Данные хранятся в виде большого двоичного объекта в учетной записи хранения Azure для рабочей области.

Чтобы использовать пакет SDK с моделью, импортируйте его в приложение или сценарий для оценки. Затем пакет SDK можно использовать для ведения журнала данных, таких как параметры, результаты и сведения о входных данных.

Если настроили [включение сбора данных модели](how-to-enable-data-collection.md) для всех развертываний образа, сведения, необходимые для записи данных, такие как учетные данные в личном хранилище BLOB-объектов, подготавливаются автоматически.

> [!Important]
> Корпорация Майкрософт не отслеживает данные, собираемые из модели. Данные отправляются напрямую в учетную запись хранения Azure для рабочей области.

## <a name="next-steps"></a>Дополнительная информация

Дополнительные сведения о том, как и где можно развертывать модели с помощью службы "Машинное обучение Azure", см. в [этой статье](how-to-deploy-and-where.md).
