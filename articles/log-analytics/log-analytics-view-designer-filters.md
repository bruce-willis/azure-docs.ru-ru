---
title: Фильтры в представлениях Azure Log Analytics | Документация Майкрософт
description: Фильтр в представлении Log Analytics позволяет пользователям фильтровать данные по значению конкретного свойства, не изменяя само представление.  В этой статье описывается, как использовать фильтр и добавить его в настраиваемое представление.
services: log-analytics
documentationcenter: ''
author: bwren
manager: carmonm
editor: ''
ms.assetid: ce41dc30-e568-43c1-97fa-81e5997c946a
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 06/22/2018
ms.author: bwren
ms.component: na
ms.openlocfilehash: dcdc84f100ce534ea517f0201b0c090c3059a318
ms.sourcegitcommit: 51a1476c85ca518a6d8b4cc35aed7a76b33e130f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/25/2018
ms.locfileid: "47160935"
---
# <a name="filters-in-log-analytics-views"></a>Фильтры в представлениях Log Analytics
**Фильтр** в [представлении Log Analytics](log-analytics-view-designer.md) позволяет пользователям фильтровать данные по значению конкретного свойства, не изменяя само представление.  Например, можно разрешить пользователям представления фильтровать это представление, чтобы просматривать данные только с определенного компьютера или набора компьютеров.  Можно создать несколько фильтров в одном представлении, чтобы разрешить пользователям выполнять фильтрацию по нескольким свойствам.  В этой статье описывается, как использовать фильтр и добавить его в настраиваемое представление.

## <a name="using-a-filter"></a>Использование фильтра
Щелкните диапазон времени данных в верхней части представления, чтобы открыть раскрывающийся список, где можно изменить диапазон времени данных для представления.

![Пример фильтра](media/log-analytics-view-designer/filters-example-time.png)

Щелкните **+**, чтобы добавить фильтр с помощью настраиваемых фильтров, определенных для представления. Выберите значение для фильтра в раскрывающемся списке или введите его самостоятельно. Продолжайте добавлять фильтры, щелкая **+**. 


![Пример фильтра](media/log-analytics-view-designer/filters-example-custom.png)

Если удалить все значения для фильтра, то он больше не будет применяться.


## <a name="creating-a-filter"></a>Создание фильтра

Создайте фильтр на вкладке **Фильтры** при [редактировании представления](log-analytics-view-designer.md).  Фильтр является глобальным для представления и применяется ко всем его частям.  

![Параметры фильтра](media/log-analytics-view-designer/filters-settings.png)

В следующей таблице описаны параметры фильтра.

| Параметр | ОПИСАНИЕ |
|:---|:---|
| Имя поля | Имя поля, используемого для фильтрации.  Оно должно соответствовать полю summarize в **запросе значений**. |
| Запрос значений | Запрос, выполняемый для заполнения раскрывающегося списка фильтров для пользователя.  Он должен содержать оператор [summarize](/azure/kusto/query/summarizeoperator) или [distinct](/azure/kusto/query/distinctoperator), чтобы предоставлять уникальные значения для определенного поля, и он должен соответствовать **имени поля**.  Можно использовать оператор [sort](/azure/kusto/query/sortoperator) для сортировки значений, отображаемых для пользователя. |
| Тег | Имя поля, которое используется в запросах с поддержкой фильтра, а также отображается для пользователя. |

### <a name="examples"></a>Примеры

В следующей таблице представлены примеры распространенных фильтров.  

| Имя поля | Запрос значений | Тег |
|:--|:--|:--|
| Компьютер   | Heartbeat &#124; distinct Computer &#124; sort by Computer asc | Компьютеры |
| EventLevelName | Event &#124; distinct EventLevelName | Уровень серьезности |
| SeverityLevel | Syslog &#124; distinct SeverityLevel | Уровень серьезности |
| SvcChangeType | ConfigurationChange &#124; distinct svcChangeType | ChangeType |


## <a name="modify-view-queries"></a>Изменение запросов в представлении

Для вступления фильтра в действие необходимо изменить все запросы в представлении, чтобы применить фильтр по выбранным значениям.  Если не изменить какие-либо запросы в представлении, то любые значения, выбираемые пользователем, не будут действовать.

Для использования значения фильтра в запросе используется приведенный ниже синтаксис. 

    where ${filter name}  

Например, если представление содержит запрос для возвращения событий и использует фильтр Computers, можно использовать следующий запрос.

    Event | where ${Computers} | summarize count() by EventLevelName

Если вы добавили еще один фильтр, Severity, то можете использовать следующий запрос для применения обоих фильтров.

    Event | where ${Computers} | where ${Severity} | summarize count() by EventLevelName

## <a name="next-steps"></a>Дополнительная информация
* Узнайте больше об [элементах визуализации](log-analytics-view-designer-parts.md), которые можно добавить в представление.