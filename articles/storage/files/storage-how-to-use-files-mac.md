---
title: Подключение общей папки Azure через протокол SMB в macOS | Документация Майкрософт
description: Узнайте, как подключить общую папку Azure через протокол SMB в macOS.
services: storage
author: RenaShahMSFT
ms.service: storage
ms.topic: get-started-article
ms.date: 09/19/2017
ms.author: renash
ms.component: files
ms.openlocfilehash: ace77b8a15ace71b5b372564bc10c6f4845e1482
ms.sourcegitcommit: 9819e9782be4a943534829d5b77cf60dea4290a2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/06/2018
ms.locfileid: "39527224"
---
# <a name="mount-azure-file-share-over-smb-with-macos"></a>Подключение общей папки Azure через протокол SMB в macOS
[Файлы Azure](storage-files-introduction.md) — это простая в использовании облачная файловая система от корпорации Майкрософт. Общие папки Azure можно подключить с помощью стандартного отраслевого протокола SMB 3 в macOS El Capitan 10.11 и более поздней версии. В этой статье описываются два разных способа подключения общей папки Azure в macOS: с помощью пользовательского интерфейса поиска и терминала.

> [!Note]  
> Перед подключением общей папки Azure через протокол SMB мы рекомендуем отключить подпись SMB-пакетов. Если этого не сделать, это может вызвать снижение производительности при получении доступа к общей папке Azure в macOS. Ваше подключение SMB будет зашифровано, поэтому на безопасность подключения это не повлияет. Выполнив следующие команды из терминала, вы отключите подпись SMB-пакетов, как описано на странице об [отключении подписи пакета для подключений протоколов SMB 2 и SMB 3](https://support.apple.com/HT205926):  
>    ```
>    sudo -s
>    echo "[default]" >> /etc/nsmb.conf
>    echo "signing_required=no" >> /etc/nsmb.conf
>    exit
>    ```

## <a name="prerequisites-for-mounting-an-azure-file-share-on-macos"></a>Предварительные требования для подключения общей папки Azure в macOS
* **Имя учетной записи хранения**. Чтобы подключить общую папку Azure, вам потребуется имя учетной записи хранения.

* **Ключ учетной записи хранения**. Чтобы подключить общую папку Azure, вам потребуется первичный (или вторичный) ключ учетной записи хранения. В настоящее время ключи SAS для подключения не поддерживаются.

* **Откройте порт 445**: взаимодействие SMB выполняется через TCP-порт 445. Проверьте, чтобы брандмауэр не блокировал TCP-порт 445 с клиентского компьютера (Mac).

## <a name="mount-an-azure-file-share-via-finder"></a>Подключение общей папки Azure через систему поиска
1. **Откройте систему поиска**: она открыта в macOS по умолчанию, но вы можете открыть ее для текущего выбранного приложения. Щелкните значок распознавания лиц macOS на панели закрепления:  
    ![Значок распознавания лиц macOS](./media/storage-how-to-use-files-mac/mount-via-finder-1.png)

2. **Выберите "Подключение к серверу" в меню "Перейти"**: использование UNC-пути, описанного в [предварительных требованиях](#preq), преобразует первую двойную обратную косую черту (`\\`) в `smb://`, а также все другие обратные косые черты (`\`) в косые черты с направлением вправо (`/`). Ссылка должна выглядеть следующим образом: ![диалоговое окно "Подключение к серверу"](./media/storage-how-to-use-files-mac/mount-via-finder-2.png)

3. **Укажите имя и ключ учетной записи хранения при появлении запроса имени пользователя и пароля**. Когда вы щелкните "Подключиться" в диалоговом окне "Подключение к серверу", появится запрос имени пользователя и пароля (значения будут заполнены автоматически учетными данными пользователя macOS). Вы также можете разместить имя и ключ учетной записи хранения в цепочке ключей macOS.

4. **Выберите требуемую общую папку Azure**. После замены имени общей папки и ключа учетной записи хранения именем пользователя и паролем общая папка будет подключена. Вы можете использовать ее обычным образом, как вы обычно использовали локальные файловые ресурсы, а также можете перетаскивать в нее файлы и удалять их:

    ![Снимок подключенной общей папки Azure](./media/storage-how-to-use-files-mac/mount-via-finder-3.png)

## <a name="mount-an-azure-file-share-via-terminal"></a>Подключение общей папки Azure через терминал
1. Замените `<storage-account-name>` именем своей учетной записи хранения. При появлении запроса укажите ключ учетной записи хранения в качестве пароля. 

    ```
    mount_smbfs //<storage-account-name>@<storage-account-name>.file.core.windows.net/<share-name> <desired-mount-point>
    ```

2. **Выберите требуемую общую папку Azure**. Общая папка Azure будет подключена в точке подключения, указанной предыдущей командой.  

    ![Снимок подключенной общей папки Azure](./media/storage-how-to-use-files-mac/mount-via-terminal-1.png)

## <a name="next-steps"></a>Дополнительная информация
Дополнительную информацию о службе файлов Azure см. по следующим ссылкам.

* [Использование функции общего доступа к файлам на компьютере Mac](https://support.apple.com/HT204445)
* [Часто задаваемые вопросы](../storage-files-faq.md)
* [Troubleshoot Azure File storage problems in Windows](storage-troubleshoot-windows-file-connection-problems.md) (Устранение неполадок хранилища файлов Azure в Windows)      
* [Troubleshoot Azure File storage problems in Linux](storage-troubleshoot-linux-file-connection-problems.md) (Устранение неполадок хранилища файлов Azure в Linux)    
