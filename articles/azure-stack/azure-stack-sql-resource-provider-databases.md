---
title: Использование баз данных, предоставленных поставщиком ресурсов адаптера SQL в Azure Stack | Документация Майкрософт
description: Создание и администрирование баз данных SQL, подготовленных с помощью поставщика ресурсов адаптера SQL
services: azure-stack
documentationCenter: ''
author: jeffgilb
manager: femila
editor: ''
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/18/2018
ms.author: jeffgilb
ms.reviewer: jeffgo
ms.openlocfilehash: 2f286c48822956c82f99808092c26f6637be5cb1
ms.sourcegitcommit: f606248b31182cc559b21e79778c9397127e54df
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/12/2018
ms.locfileid: "38968832"
---
# <a name="create-sql-databases"></a>Создание баз данных SQL

Вы можете создавать и администрировать базы данных с самообслуживанием с помощью портала пользователя. Пользователю Azure Stack требуется подписка с предложением, которое включает службу "База данных SQL".

1. Войдите на портал пользователя [Azure Stack](azure-stack-poc.md).

2. Последовательно выберите **+Создать** &gt;**Данные и хранилище** &gt; **База данных SQL Server** &gt; **Добавить**.

3. В разделе **Создание базы данных** введите требуемую информацию, в том числе **Имя базы данных** и **Максимальный размер (в МБ)**.

   >[!NOTE]
   >Размер базы данных должен быть не менее 64 МБ. Вы можете дополнительно увеличить его после развертывания базы данных.

   Настройте остальные параметры в соответствии со своей средой.

4. В разделе **Создание базы данных** выберите **Номер SKU**. В разделе **Выбор номера SKU** выберите нужный номер SKU для базы данных.

   ![Создание базы данных](./media/azure-stack-sql-rp-deploy/newsqldb.png)

   >[!NOTE]
   >По мере добавления серверов размещения в Azure Stack им назначаются номера SKU. Базы данных создаются в пуле серверов размещения, который относится к соответствующему номеру SKU.

5. Выберите **Имя для входа**.
6. В разделе **Выбор имени для входа** выберите имя существующей учетной записи или щелкните **+Новое имя для входа**.
7. В разделе **Новое имя для входа** введите значения **Имя для входа в базу данных** и **Пароль**.

   >[!NOTE]
   >Эти параметры представляют собой учетные данные проверки подлинности SQL, которые создаются для вашего доступа только к этой базе данных. Имя входа должно быть глобально уникальным. Параметры входа можно использовать повторно для других баз данных с тем же номером SKU.

   ![Создание набора параметров для входа в базу данных](./media/azure-stack-sql-rp-deploy/create-new-login.png)

8. Выберите **OK**, чтобы завершить развертывание базы данных.

Запишите **строку подключения** из раздела **Основные компоненты**, который откроется после развертывания базы данных. Эту строку можно применить в любом приложении, которому потребуется доступ к базе данных SQL Server.

![Получение строки подключения](./media/azure-stack-sql-rp-deploy/sql-db-settings.png)

## <a name="sql-always-on-databases"></a>Базы данных SQL AlwaysOn

Базы данных AlwaysOn по структуре и поведению существенно отличаются от среды отдельного сервера. Подробнее об этом см. в статье [Введение в группы доступности AlwaysOn SQL Server на виртуальных машинах Azure](https://docs.microsoft.com/azure/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-availability-group-overview)

### <a name="verify-sql-always-on-databases"></a>Проверка баз данных SQL AlwaysOn

Следующий снимок экрана демонстрирует, как с помощью SQL Server Management Studio узнать состояние баз данных в SQL AlwaysOn.

![Состояние базы данных AlwaysOn](./media/azure-stack-sql-rp-deploy/verifyalwayson.png)

Базы данных AlwaysOn должны отображаться как синхронизированные. Они также должны быть доступными во всех экземплярах SQL и группах доступности. На предыдущем снимке экрана представлена база данных newdb1, для которой отображается состояние **newdb1 (Синхронизировано)**.

### <a name="delete-an-alwayson-database"></a>Удаление базы данных AlwaysOn

Когда вы удаляете базу данных SQL AlwaysOn на поставщике ресурсов, SQL удаляет эту базу данных с основной реплики и из группы доступности.

Затем SQL переводит базу данных в состояние "Восстановление" на всех остальных репликах и не удаляет ее, пока не поступит соответствующий сигнал. Если база данных не будет удалена, вторичные реплики переходят в состояние "Не синхронизируется".

## <a name="next-steps"></a>Дополнительная информация

[Поддержка поставщика ресурсов SQL Server](azure-stack-sql-resource-provider-maintain.md)
