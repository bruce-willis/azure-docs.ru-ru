---
title: Что такое индивидуальные чаты в проектах?
titlesuffix: Azure Cognitive Services
description: В этой статье рассматривается Personality Chat в проектах Azure. Он является облачным API-интерфейсом, используемым для улучшения возможностей бота при общении.
services: cognitive-services
author: noellelacharite
manager: cgronlun
ms.service: cognitive-services
ms.component: personality-chat
ms.topic: overview
ms.date: 05/07/2018
ms.author: nolachar
comment: As a bot developer, I want my bot to be able to handle small talk in a consistent tone so that my bot appears more complete and conversational.
ms.openlocfilehash: 865815862be4a2250347f782985e0bce87780197
ms.sourcegitcommit: ad08b2db50d63c8f550575d2e7bb9a0852efb12f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/26/2018
ms.locfileid: "47220540"
---
# <a name="what-is-project-personality-chat"></a>Что такое индивидуальные чаты в проектах?

Использование Personality Chat в проекте улучшает возможности ботов при общении путем формирования непринужденных реплик, соответствующих выбранной заранее личности. Для определения характера беседы и формирования ответов, соответствующих выбранной личности, в Personality Chat используются классификаторы намерений. В зависимости от оценок намерения и достоверности бот выбирает лучший ответ из проверенной тематической базы либо с помощью глубоких нейронных сетей (DNN) формирует ответ в режиме реального времени. Для бота можно выбрать одну из трех личностей. Возвращаемые моделью личности ответы будут зависеть от выбранной личности.

Также для запросов в непринужденных разговорах доступен настраиваемый тематический набор ответов. С помощью пакета SDK Microsoft Bot Framework его можно легко интегрировать. Использование пакета SDK позволяет сэкономить время и деньги, так как не требуется начинать работу с нуля.

## <a name="getting-started-with-project-personality-chat"></a>Начало работы с Personality Chat в проектах

Вы можете перейти на страницу разработки проекта Personality Chat и пообщаться с доступной демонстрационной версией бота, а также запросить ранний доступ к нему (когда служба станет доступной).
В настоящее время с помощью пакета SDK Microsoft Bot Framework также можно выполнить интеграцию настраиваемой тематической библиотеки в бот. <br>
[Samples: Integrate Personality Chat in a bot](https://github.com/Microsoft/BotBuilder-PersonalityChat/) (Примеры интеграции Personality Chat в бот) <br>
[Try the Personality Chat library](https://github.com/Microsoft/BotBuilder-PersonalityChat/tree/master/CSharp) (Библиотека Personality Chat)

## <a name="generating-responses-using-neural-networks"></a>Создание ответов с помощью нейронных сетей

Чтобы изучать общие шаблоны бесед и генерировать ответы в Personality Chat, используются модели глубокого обучения. Модель генерации ответов представляет собой рекуррентную нейронную сеть. Эта модель обучается на миллионах бесед, в которых она распознает и изучает шаблоны взаимодействия между людьми. На основе шаблонов структуры предложений формируются новые запросы и генерируются ответы. При создании нового ответа модель выполняет поиск слов из "официального словаря" и выбривает несколько слов, которые наилучшим образом соответствуют первому слову ответа. Используя лучевой поиск, модель продолжает искать лучшие варианты вторых слов для каждого найденного ранее первого слова. Ответ считается готовым, когда модель выбирает слово "End of sentence" (Конец предложения). Получив все ответы, она выполняет оценку каждого из них и выбирает ответ с наибольшей оценкой.

Модель обучается созданию контекстно зависимых оборотов, которые бы обладали правильной "структурой". Например, из вопроса "Поговорим?" можно немного узнать о структуре правильного ответа. Вероятнее всего, он будет содержать некий парафраз, начинающийся словом "Да" или "Нет". В ответ "Нет", скорее всего, будет добавлено вежливое объяснение.

Система пытается изучить языковую модель для базовой структуры беседы. Эта структура должна позволять частично влиять на ответы такими внешними факторами, как тема, личность и т. д.  Поскольку эти факторы изучаются по широкому спектру шаблонов, они подходят для применения в беседах (и не только).

![Последовательность действий модели при генерации ответа](./media/overview/sequence-to-sequence-model.png)

## <a name="personality-modeling"></a>Моделирование личности

 При использовании любой диалоговой модели, основанной на данных, существует проблема согласованного представления целостной "личности". Личность определяется как характер, реализующийся во время взаимодействия в беседе. Личность может рассматриваться как набор элементов идентичности, языкового поведения и стиля взаимодействия. В текущей версии Personality Chat основное внимание уделяется языковому поведению и стилю взаимодействия.

В данной модели отдельные участники беседы представлены в виде вектора или вложения. Модель кодирует ту информацию от говорящих, которая влияет на содержание и стиль их ответов. Затем модель обучается на представлениях участников, основываясь на информации, полученной на стадии беседы. Участники, которые дали похожие ответы, обладают сходными вложениями и в векторном пространстве располагаются неподалеку. Таким образом, данные для обучения, полученные от участников беседы, расположенных в векторном пространстве рядом друг с другом, помогают увеличить возможности обобщения модели участника беседы. Модель эффективно формирует кластер участников беседы, которые имеют аналогичные представления в векторном пространстве, чтобы сформировать кластер личности с определенным "идентификатором личности".

У личностей по умолчанию атрибуты и подобранные ответы используются для поиска ближайшего подходящего кластера участника беседы. Затем данный кластер устанавливается в качестве идентификатора личности для каждой из личностей по умолчанию. Путем использования наборов новых ответов или ответов ботов можно продолжать настраивать любой тип личности. Затем формируются беседы, которые в точности соответствуют личности человека в таких элементах, как лингвистическое поведение ответа и другие основные характеристики.

![Моделирование личности с помощью кластеров собеседника](./media/overview/persona-modeling.png)

## <a name="small-talk-intent-understanding"></a>Распознавание намерения в беседах

Personality Chat содержит классификаторы намерений, что позволяет обеспечить ответ в соответствии с намерением беседы. Эти классификаторы не будут мешать выполнению задач или информационных запросов. Используя высокоэффективный классификатор чатов, можно определить, является ли данный запрос беседой или это просто болтовня. Такая оценка выполняется путем использования лексических и семантических классификаторов с последующим объединением их баллов. Эти намерения будут получены на основе данных беседы (в качестве образцов положительного намерения) и запросов на поиск и на создание задач (для образцов отрицательного намерения).

Другие классификаторы вложенных намерений используются для определения подклассов бесед, что позволит выделить те из них, на которые служба отвечает, например приветствия, комплименты, мнения и т. д. Такие классификаторы глубокого обучения, которые используют семантическую модель сверточной глубокой структуры (CDSSM), преобразовывают все запросы в векторы. Для их обучения используются тысячи специально подобранных запросов вложенных намерений. Затем классификатор сопоставляет запрос с уже существующими идентифицированными классами намерений путем нахождения ближайшего соответствия в векторном пространстве.

Для предотвращения нежелательных ответов внедрен ряд элементов управления на основе знаний, полученных от интеллектуальных агентов типа Zo. По умолчанию служба индивидуального чата в проектах настроена так, чтобы отвечать исключительно на распознанные намерения пользователя. Возможно, вы захотите проверить, подходит ли вам служба индивидуального чата в проектах. Если вы можете указать на аспекты, по которым требуется дополнительное обучение, мы будем признательны вам за отзыв.
