---
title: Справка об API перевода текстов Microsoft версии 2.0 | Документация Майкрософт
titleSuffix: Cognitive Services
description: Справочная документация для API перевода текстов Microsoft версии 2.0.
services: cognitive-services
author: Jann-Skotdal
manager: chriswendt1
ms.service: cognitive-services
ms.technology: microsoft translator
ms.topic: article
ms.date: 05/15/2018
ms.author: v-jansko
ms.openlocfilehash: e32e28608d2fecf27b61acff74af7eb6849f0ba1
ms.sourcegitcommit: 95d9a6acf29405a533db943b1688612980374272
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2018
ms.locfileid: "35382524"
---
# <a name="translator-text-api-v20"></a>API перевода текстов версии 2.0

> [!IMPORTANT]
> Эта версия API перевода текстов больше не рекомендуется. [Просмотрите документацию для API перевода текстов версии 3](v3-0-reference.md).

API перевода текстов Microsoft версии 2.0 легко интегрируется в приложения, веб-сайты, инструменты, а также предлагает другие решения для обеспечения взаимодействия с пользователем, работающим с несколькими языками. Используя отраслевые стандарты, он может функционировать на любой платформе и в любой операционной системе и выполнять переводы и другие операции, связанные с языками, например определение языка текста или преобразование текста в речь. Щелкните здесь для получения дополнительных сведений об Microsoft Translator API.

## <a name="getting-started"></a>Приступая к работе
Для доступа к API перевода текстов Microsoft нужно [зарегистрироваться в Microsoft Azure](../translator-text-how-to-signup.md).

## <a name="authorization"></a>Авторизация
Все вызовы API перевода текстов Microsoft требуют ключ подписки для аутентификации. Программный интерфейс поддерживает два режима аутентификации:

* Использование маркера доступа. Используйте ключ подписки, указанный на **шаге** 9, чтобы создать маркер доступа, выполнив запрос POST для службы авторизации. Дополнительные сведения см. в документации службы токенов. Передайте маркер доступа службе перевода, используя заголовок авторизации или параметр запроса access_token. Маркер доступа действителен 10 минут. Получайте новый маркер доступа каждые 10 минут и продолжайте использовать тот же маркер доступа для повторных запросов в течение следующих 10 минут.

* Использование непосредственно ключа подписки. Передайте в качестве значения ключ подписки в заголовок `Ocp-Apim-Subscription-Key`, включенный в запрос к API перевода. В этом режиме не нужно вызывать службу токенов аутентификации, чтобы создать маркер доступа.

Считайте ключ подписки и маркер доступа секретными данными, которые нужно скрыть.

## <a name="profanity-handling"></a>Обработка ненормативной лексики
Обычно служба переводов сохраняет в переводе ненормативную лексику, которая присутствует в источнике. Степень нецензурности и оскорбительность контекста отличаются в разных культурах и в результате этого степень нецензурности в переводе может вырасти или уменьшится.

Если необходимо избежать появления ненормативной лексики при переводе (независимо от ее наличия в источнике), можно использовать параметр фильтрации ненормативной лексики для метода, который его поддерживает. Этот параметр позволяет выбрать, хотите ли вы удалить ненормативную лексику, пометить ее соответствующими тегами или не предпринимать никаких действий. Допустимые значения `ProfanityAction`: `NoAction` (по умолчанию), Marked и `Deleted`.


|ProfanityAction    |Действие |Пример исходного текста (японский)  |Пример перевода (на английский)  |
|:--|:--|:--|:--|
|NoAction   |По умолчанию. Аналогично отсутствию параметра. Ненормативная лексика оригинального текста сохранится в переводе.        |彼はジャッカスです。     |Он — придурок.   |
|Marked     |Оскорбительные слова выделены XML тегами <profanity> и</profanity>.     |彼はジャッカスです。 |Он — <profanity>придурок</profanity>.    |
|Deleted    |Оскорбительные слова будут удалены из выходных данных без замены.     |彼はジャッカスです。 |Он — .   |

    
## <a name="excluding-content-from-translation"></a>Исключение содержимого из перевода
При переводе содержимого с тегами, такими как HTML (`contentType=text/html`), иногда бывает удобно удалить определенное содержимое из перевода. Можно использовать атрибут `class=notranslate` для указания содержимого, которое должно остаться не переведенным. В следующем примере содержимое внутри первого элемента `div` не будет переведено, в то время как содержимое во втором элементе `div` будет переведено.

```HTML
<div class="notranslate">This will not be translated.</div>
<div>This will be translated. </div>
```

## <a name="get-translate"></a>GET /Translate

### <a name="implementation-notes"></a>Примечания по реализации
Перевод текстовой строки с одного языка на другой.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/Translate`.

**Возвращаемое значение:** строка с переведенным текстом.

Если вы ранее использовали `AddTranslation` или `AddTranslationArray`, чтобы ввести перевод с оценкой 5 или выше для одного и того же исходного предложения, `Translate` будет отображать только первый вариант, доступный в вашей системе. То же исходное предложение означает точное соответствие (100 % соответствие), кроме прописных букв, пробелов, значений тегов и знаков препинания в конце предложения. Если оценки до 5 или выше не сохранены, то в результате будет отображаться автоматический перевод Microsoft Translator.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)

строка

Тип содержимого ответа: application/xml 

### <a name="parameters"></a>Параметры

|Параметр|Значение|ОПИСАНИЕ    |Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid  |(пусто)    |Обязательный элемент. Если используется заголовок авторизации или заголовок Ocp-Apim-Subscription-Key, оставьте поле appid пустым, или укажите строку, содержащую "Bearer" + " " + "access_token" (маркер носителя и маркер доступа).|query|строка|
|текст|(пусто)   |Обязательный элемент. Строка, представляющая текст для перевода. Размер текста не должен превышать 10 000 знаков.|query|строка|
|from|(пусто)   |Необязательный элемент. Строка, представляющая код языка текста перевода. Например, en для английского языка.|query|строка|
|значение|(пусто) |Обязательный элемент. Строка, представляющая код языка, на который переводится текст.|query|строка|
|сontentType|(пусто)    |Необязательный элемент. Формат переведенного текста. Поддерживаемые форматы: text/plain (по умолчанию) и text/html. Любой код HTML должен быть полным элементом с правильным форматом.|query|строка|
|category|(пусто)   |Необязательный элемент. Строка, содержащая категорию (домен) перевода. Значение по умолчанию: general.|query|строка|
|Авторизация|(пусто)  |Требуется, если поле appid или заголовок Ocp-Apim-Subscription-Key не указаны. Маркер авторизации: "Bearer" + " " + "access_token".|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, если поле appid или заголовок авторизации не указаны.|Верхний колонтитул|строка|


### <a name="response-messages"></a>Ответные сообщения

|Код состояния HTTP|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса, а также идентификатор из заголовка ответа X-MS-Trans-Info.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-translatearray"></a>POST /TranslateArray

### <a name="implementation-notes"></a>Примечания по реализации
Используйте метод `TranslateArray` для извлечения переводов для множественных текстов источника.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/TranslateArray`.

Формат текста запроса должен быть следующим:

```
<TranslateArrayRequest>
  <AppId />
  <From>language-code</From>
  <Options>
    <Category xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >string-value</Category>
    <ContentType xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">text/plain</ContentType>
    <ReservedFlags xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" />
    <State xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >int-value</State>
    <Uri xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >string-value</Uri>
    <User xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >string-value</User>
  </Options>
  <Texts>
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">string-value</string>
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">string-value</string>
  </Texts>
  <To>language-code</To>
</TranslateArrayRequest>
```

Элементы `TranslateArrayRequest`:


* `appid`: обязательный параметр. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле appid пустым, а потом введите туда строку, содержащую `"Bearer" + " " + "access_token"`.
* `from`: необязательный параметр. Строка, представляющая код языка, с которого переводится текст. Если она пустая, то ответ будет содержать результат автоматического определения языка.
* `options`: необязательный параметр. Объект `Options`, содержащий перечисленные ниже значения. Все они необязательны и по умолчанию соответствуют наиболее распространенным настройкам. Указанные элементы должны находится в алфавитном порядке.
    - `Category`: строка, содержащая категорию (домен) перевода. По умолчанию равен `general`.
    - `ContentType`: формат переведенного текста. Поддерживаемые форматы: `text/plain` (по умолчанию), `text/xml` и `text/html`. Любой код HTML должен быть полным элементом с правильным форматом.
    - `ProfanityAction`: указывает на процесс обработки ненормативной лексики, описанный выше. Допустимые значения `ProfanityAction`: `NoAction` (по умолчанию), `Marked` и `Deleted`.
    - `State`: состояние пользователя для помощи в согласовании запроса и ответа. В ответе будет возвращено то же содержимое.
    - `Uri`: отфильтруйте результаты по данному URI. По умолчанию: `all`.
    - `User`: отфильтруйте результаты по данному пользователю. По умолчанию: `all`.
* `texts`: обязательный параметр. Массив, содержащий текст для перевода. Все строки должны бить написаны на том же языке. Общее количество всех текстов для перевода не должно превышать 10 000 знаков. Максимальное число элементов массива — 2000.
* `to`: обязательный параметр. Строка, представляющая код языка, на который переводится текст.

Необязательные элементы можно опустить. Дочерние элементы TranslateArrayRequest должны быть перечислены в алфавитном порядке.

Метод TranslateArray принимает `application/xml` или `text/xml` для `Content-Type`.

**Возвращаемое значение:** массив `TranslateArrayResponse`. Каждый `TranslateArrayResponse` включает следующие запросы:

* `Error`: указывает на ошибку, если она есть. В противном случае имеет значение null.
* `OriginalSentenceLengths`: массив целых чисел, указывающий длину каждого предложения в оригинальном тексте. Длина массива указывает количество предложений.
* `TranslatedText`: переведенный текст.
* `TranslatedSentenceLengths`: массив целых чисел, указывающий длину каждого предложения в переведенном тексте. Длина массива указывает количество предложений.
* `State`: состояние пользователя для помощи в согласовании запроса и ответа. Содержимое запроса и перевода одинаковое.

Формат текста ответа следующий.

```
<ArrayOfTranslateArrayResponse xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2"
  xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
  <TranslateArrayResponse>
    <From>language-code</From>
    <OriginalTextSentenceLengths xmlns:a="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
      <a:int>int-value</a:int>
    </OriginalTextSentenceLengths>
    <State/>
    <TranslatedText>string-value</TranslatedText>
    <TranslatedTextSentenceLengths xmlns:a="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
      <a:int>int-value</a:int>
    </TranslatedTextSentenceLengths>
  </TranslateArrayResponse>
</ArrayOfTranslateArrayResponse>
```

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
Успешный ответ содержит массив `TranslateArrayResponse` в формате, описанном выше.

строка

Тип содержимого ответа: application/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|ОПИСАНИЕ|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|Авторизация|(пусто)) |Требуется, если поле appid или заголовок Ocp-Apim-Subscription-Key не указаны. Маркер авторизации: "Bearer" + " " + "access_token".|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если поле appid или заголовок авторизации не указаны.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|Код состояния HTTP   |Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке. Ниже перечислены распространенные ошибки. <ul><li>Элемент массива не может быть пустым</li><li>Недопустимая категория</li><li>Язык оригинала — недопустимый</li><li>Язык перевода — недопустимый</li><li>Запрос содержит слишком много элементов</li><li>Язык оригинала не поддерживается</li><li>Язык перевода не поддерживается</li><li>Запрос на перевод содержит слишком много данных</li><li>HTML имеет неправильный формат</li><li>В запросе на перевод задано слишком много строк</li></ul>|
|401    |Недопустимые учетные данные|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса, а также идентификатор из заголовка ответа X-MS-Trans-Info.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-getlanguagenames"></a>POST /GetLanguageNames

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает понятные имена для языков, переданных в качестве параметра `languageCodes` и локализированых с использованием языковых стандартов переданного языка.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetLanguageNames`.

Текст запроса включает массив строк, представляющих коды ISO 639-1 языка для извлечения понятных имен. Например: 

```
<ArrayOfstring xmlns:i="http://www.w3.org/2001/XMLSchema-instance"  xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
    <string>zh</string>
    <string>en</string>
</ArrayOfstring>
```

**Возвращаемое значение:** строковый массив, содержащий названия языков, поддерживаемых Translator Service, локализированый для запрошенного языка.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
Строковый массив, содержащий названия языков, поддерживаемых Translator Service, локализованый для запрошенного языка.

строка

Тип содержимого ответа: application/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|ОПИСАНИЕ|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле appid пустым, а потом введите туда строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|языковой стандарт|(пусто) |Обязательный элемент. Строка, представляющая комбинацию двухбуквенного кода ISO 639 с нижним регистром, связанного с языком, и двухбуквенного кода ISO 3166 с верхним регистром для локализации имен языков или же просто код ISO 639.|query|строка|
|Авторизация|(пусто)  |Требуется, если поле appid или заголовок `Ocp-Apim-Subscription-Key` не указаны. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, если поле appid или заголовок `Authorization` не указаны.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|Код состояния HTTP|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса, а также идентификатор из заголовка ответа X-MS-Trans-Info.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-getlanguagesfortranslate"></a>GET /GetLanguagesForTranslate

### <a name="implementation-notes"></a>Примечания по реализации
Получите список кодов языков, поддерживаемых службой перевода.  `Translate` и `TranslateArray` может переводить из и на любой из этих языков.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetLanguagesForTranslate`.

**Возвращаемое значение:** строковый массив, содержащий коды языков, поддерживаемых Translator Services.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
Строковый массив, содержащий коды языков, поддерживаемых Translator Services.

строка

Тип содержимого ответа: application/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|ОПИСАНИЕ|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле appid пустым, а потом введите туда строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|Авторизация|(пусто)  |Требуется, если поле `appid` или заголовок `Ocp-Apim-Subscription-Key` не указаны. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если поле `appid` или заголовок `Authorization` не указаны.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|Код состояния HTTP|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса, а также идентификатор из заголовка ответа X-MS-Trans-Info.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-getlanguagesforspeak"></a>GET /GetLanguagesForSpeak

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает языки, доступные для синтеза речи.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetLanguagesForSpeak`.

**Возвращаемое значение:** строковый массив, содержащий коды языков, которые Translator Service поддерживает для синтеза речи.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
Строковый массив, содержащий коды языков, которые Translator Service поддерживает для синтеза речи.

строка

Тип содержимого ответа: application/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|ОПИСАНИЕ|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле appid пустым, а потом введите туда строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|Авторизация|(пусто)|Требуется, если поле `appid` или заголовок `Ocp-Apim-Subscription-Key` не указаны. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если поле `appid` или заголовок `Authorization` не указаны.|Верхний колонтитул|строка|
 
### <a name="response-messages"></a>Ответные сообщения

|Код состояния HTTP|Причина|
|:--|:--|
|400|Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401|Недопустимые учетные данные|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса а также ID из заголовка ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-speak"></a>GET /Speak

### <a name="implementation-notes"></a>Примечания по реализации
Возвращает поток переданного текста в формате WAVE или MP3 на нужном языке.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/Speak`.

**Возвращаемое значение:** поток переданного текста в формате WAVE или MP3 на нужном языке.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)

binary;

Тип содержимого ответа: application/xml 

### <a name="parameters"></a>Параметры

|Параметр|Значение|ОПИСАНИЕ|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле appid пустым, а потом введите туда строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|текст|(пусто)   |Обязательный элемент. Строка, содержащая предложение или предложения на указанном языке, которые необходимо произнести для создания потока формата WAVE. Размер устного текста не должен превышать 2000 знаков.|query|строка|
|Язык|(пусто)   |Обязательный элемент. Строка, представляющая код языка, на котором произносится текст. Код должен присутствовать в списке кодов, возвращаемых методом `GetLanguagesForSpeak`.|query|строка|
|свойства|(пусто)|Необязательный элемент. Строка, задающая идентификатор типа содержимого. В настоящее время доступны `audio/wav` и `audio/mp3`. По умолчанию используется значение `audio/wav`.|query|строка|
|options|(пусто)    |<ul><li>Необязательный элемент. Строка, указывающая свойства синтезированной речи:<li>`MaxQuality` и `MinSize` доступны для указания качества звуковых сигналов. С `MaxQuality` вы можете получить голоса высочайшего качества, а с `MinSize` — голоса с наименьшим размером. Значение по умолчанию — `MinSize`.</li><li>`female` и `male` доступны для указания голоса нужного пола. Значение по умолчанию — `female`. Используйте вертикальную линию `|` to include multiple options. For example  `MaxQuality|Male`.</li></li></ul> |query|строка|
|Авторизация|(пусто)|Требуется, если поле `appid` или заголовок `Ocp-Apim-Subscription-Key` не указаны. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, если поле `appid` или заголовок `Authorization` не указаны.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|Код состояния HTTP|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса а также ID из заголовка ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-detect"></a>GET /Detect

### <a name="implementation-notes"></a>Примечания по реализации
Используйте метод `Detect`, чтобы определить язык выбранного фрагмента текста.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/Detect`.

**Возвращаемое значение:** строка, содержащая код языка из двух знаков для заданного текста. .

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)

строка

Тип содержимого ответа: application/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|ОПИСАНИЕ|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)  |Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле appid пустым, а потом введите туда строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|текст|(пусто)|Обязательный элемент. Строка, содержащая текст, язык которого нужно определить. Размер текста не должен превышать 10 000 знаков.|query| строка|
|Авторизация|(пусто)|Требуется, если поле `appid` или заголовок `Ocp-Apim-Subscription-Key` не указаны. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key  |(пусто)    |Требуется, если поле `appid` или заголовок `Authorization` не указаны.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|Код состояния HTTP|Причина|
|:--|:--|
|400|Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса а также ID из заголовка ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|


## <a name="post-detectarray"></a>POST /DetectArray

### <a name="implementation-notes"></a>Примечания по реализации
Используйте метод `DetectArray`, чтобы мгновенно определить язык строки массива. Выполняет независимое обнаружение каждого отдельного элемента массива и возвращает результат каждой строки в массиве.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/DetectArray`.

Формат текста запроса должен быть следующим.

```
<ArrayOfstring xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
    <string>string-value-1</string>
    <string>string-value-2</string>
</ArrayOfstring>
```

Размер текста не должен превышать 10 000 знаков.

**Возвращаемое значение:** строковый массив, содержащий двузначные языковые коды для каждой строки входного массива.

Формат текста ответа следующий.

```
<ArrayOfstring xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays" xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
  <string>language-code-1</string>
  <string>language-code-2</string>
</ArrayOfstring>
```

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
Операция DetectArray выполнена успешно. Возвращает строковый массив, содержащий двузначные языковые коды для каждой строки входного массива.

строка

Тип содержимого ответа: application/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|ОПИСАНИЕ|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле appid пустым, а потом введите туда строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|Авторизация|(пусто)|Требуется, если поле `appid` или заголовок `Ocp-Apim-Subscription-Key` не указаны. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если поле `appid` или заголовок авторизации не указаны.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|Код состояния HTTP|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса, а также идентификатор из заголовка ответа X-MS-Trans-Info.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-addtranslation"></a>Get /AddTranslation

### <a name="implementation-notes"></a>Примечания по реализации

> [!IMPORTANT]
> **ПРИМЕЧАНИЕ ОБ УСТАРЕВАНИИ.** С 31 января 2018 этот метод не принимает новые предложения и вы получите сообщение об ошибке. Ознакомьтесь с этим объявлением об изменениях в функциях Collaborative Translation.

Добавляет перевод в память перевода.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/AddTranslation`.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)

строка

Тип содержимого ответа: application: xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|ОПИСАНИЕ|Тип параметра|Тип данных   |
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле appid пустым, а потом введите туда строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|OriginalText|(пусто)|Обязательный элемент. Строка, содержащая текст для перевода. Максимальная длина строки – 1000 знаков.|query|строка|
|TranslatedText|(пусто) |Обязательный элемент. Строка, содержащая текст, переведенный на целевой язык. Максимальная длина строки – 2000 знаков.|query|строка|
|from|(пусто)   |Обязательный элемент. Строка, представляющая код языка текста перевода. en = english, de = german и т. д.|query|строка|
|значение|(пусто)|Обязательный элемент. Строка, представляющая код языка, на который переводится текст.|query|строка|
|рейтинг|(пусто) |Необязательный элемент. Целое число, представляющее оценку качества этой строки. Значение от –10 до 10. По умолчанию равен 1.|query|целое число|
|сontentType|(пусто)    |Необязательный элемент. Формат переведенного текста. Поддерживаемые форматы: text/plain и text/html. Любой код HTML должен быть полным элементом с правильным форматом.   |query|строка|
|category|(пусто)|Необязательный элемент. Строка, содержащая категорию (домен) перевода. Значение по умолчанию: general.|query|строка|
|user|(пусто)|Обязательный элемент. Строка, используемая для отслеживания источника для отправки.|query|строка|
|uri|(пусто)|Необязательный элемент. Строка, содержащая расположения содержимого этого перевода.|query|строка|
|Авторизация|(пусто)|Требуется, если поле appid или заголовок `Ocp-Apim-Subscription-Key` не указаны. Маркер авторизации: `"Bearer" + " " + "access_token"`.    |Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если поле `appid` или заголовок `Authorization` не указаны.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|Код состояния HTTP|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные|
|410|AddTranslation больше не поддерживается.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса, а также идентификатор из заголовка ответа X-MS-Trans-Info.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-addtranslationarray"></a>POST /AddTranslationArray

### <a name="implementation-notes"></a>Примечания по реализации

> [!IMPORTANT]
> **ПРИМЕЧАНИЕ ОБ УСТАРЕВАНИИ.** С 31 января 2018 этот метод не принимает новые предложения и вы получите сообщение об ошибке. Ознакомьтесь с этим объявлением об изменениях в функциях Collaborative Translation.

Добавляет массив переводов для добавления в память перевода. Это версия массива `AddTranslation`.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/AddTranslationArray`.

Формат текста запроса следующий.

```
<AddtranslationsRequest>
  <AppId></AppId>
  <From>A string containing the language code of the source language</From>
  <Options>
    <Category xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Category>
    <ContentType xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">text/plain</ContentType>
    <User xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</User>
    <Uri xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Uri>
  </Options>
  <To>A string containing the language code of the target language</To>
  <Translations>
    <Translation xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">
      <OriginalText>string-value</OriginalText>
      <Rating>int-value</Rating>
      <Sequence>int-value</Sequence>
      <TranslatedText>string-value</TranslatedText>
    </Translation>
  </Translations>
</AddtranslationsRequest>
```

Элементы в элементе AddtranslationsRequest:

* `AppId`: обязательный параметр. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле appid пустым, а потом введите туда строку, содержащую `"Bearer" + " " + "access_token"`.
* `From`: обязательный параметр. Строка, содержащая код исходного языка. Должен быть на одном из языков, возвращаемых методом `GetLanguagesForTranslate`.
* `To`: обязательный параметр. Строка, содержащая код целевого языка. Должен быть на одном из языков, возвращаемых методом `GetLanguagesForTranslate`.
* `Translations`: обязательный параметр. Массив переводов для добавления в память перевода. Каждый перевод должен содержать: originalText, translatedText и оценку. Размер каждого originalText и translatedText не может превышать 1000 знаков. Общее количество originalText и translatedText не должно превышать 10 000 знаков. Максимальное число элементов массива — 100.
* `Options`: обязательный параметр. Набор параметров, включая Category, ContentType, Uri и User. User — обязательный параметр. Category, ContentType и Uri — необязательные параметры. Указанные элементы должны находится в алфавитном порядке.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
Метод AddTranslationArray выполнен успешно. С 31 января 2018 отправка предложений не принимается. Служба отвечает кодом ошибки 410.

строка

Тип содержимого ответа: application/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|ОПИСАНИЕ|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|Авторизация|(пусто)|Требуется, если поле appid или заголовок Ocp-Apim-Subscription-Key не указаны. Маркер авторизации: "Bearer" + " " + "access_token".|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если поле appid или заголовок авторизации не указаны.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|Код состояния HTTP|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные|
|410    |AddTranslation больше не поддерживается.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса а также ID из заголовка ответа `X-MS-Trans-Info`.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-breaksentences"></a>Get /BreakSentences

### <a name="implementation-notes"></a>Примечания по реализации
Разбивает фрагменты текста на предложения и возвращает массив, содержащий значения длины каждого предложения.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/BreakSentences`.

**Возвращаемое значение:** Массив целых чисел, представляющий длину предложений. Длина массива соответствует количеству предложений, а значения — длине каждого предложения.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
Массив целых чисел, представляющий длину предложений. Длина массива соответствует количеству предложений, а значения — длине каждого предложения.

целое число

Тип содержимого ответа: application/xml 

### <a name="parameters"></a>Параметры

|Параметр|Значение|ОПИСАНИЕ|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)  |Обязательный элемент. Если используется заголовок авторизации или заголовок Ocp-Apim-Subscription-Key, оставьте поле appid пустым, или укажите строку, содержащую "Bearer" + " " + "access_token" (маркер носителя и маркер доступа).|query| строка|
|текст|(пусто)   |Обязательный элемент. Строка, представляющая текст для перевода, который нужно разделить на предложения. Размер текста не должен превышать 10 000 знаков.|query|строка|
|Язык   |(пусто)    |Обязательный элемент. Строка, представляющая код языка.|query|строка|
|Авторизация|(пусто)|Требуется, если поле appid или заголовок Ocp-Apim-Subscription-Key не указаны. Маркер авторизации: "Bearer" + " " + "access_token".    |Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если поле appid или заголовок авторизации не указаны.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|Код состояния HTTP|Причина|
|:--|:--|
|400|Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401|Недопустимые учетные данные|
|500|Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса, а также идентификатор из заголовка ответа X-MS-Trans-Info.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-gettranslations"></a>POST /GetTranslations

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает массив переводов для данной языковой пары из хранилища и системы машинного перевода. GetTranslations отличается от Translate, потому что он возвращает все доступные переводы.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetTranslations`.

Текст запроса включает необязательный объект TranslationOptions, который имеет следующий формат.

```
<TranslateOptions xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">
  <Category>string-value</Category>
  <ContentType>text/plain</ContentType>
  <ReservedFlags></ReservedFlags>
  <State>int-value</State>
  <Uri>string-value</Uri>
  <User>string-value</User>
</TranslateOptions>
```

Объект `TranslateOptions` содержит перечисленные ниже значения. Все они необязательны и по умолчанию соответствуют наиболее распространенным настройкам. Указанные элементы должны находится в алфавитном порядке.

* `Category`: строка, содержащая категорию (домен) перевода. Значение по умолчанию: general.
* `ContentType`: единственный поддерживаемый параметр, значение по умолчанию — text/plain.
* `IncludeMultipleMTAlternatives`: логический флаг, который определяет, нужно ли возвращать из системы машинного перевода несколько вариантов. Допустимые значения: true и false (с учетом регистра). По умолчанию имеет значение false и включает только один вариант. Установка флага в значение true позволяет создавать искусственные варианты перевода, полностью интегрированные с помощью платформы совместной работы над переводами (CTF). Компонент позволяет вернуть альтернативные варианты для предложений, у которых нет другого варианта в CTF, добавив искусственные альтернативных вариантов из списка n лучших декодера.
    - Оценки. Оценки применяются следующим образом: 1) Лучший автоматический перевод получает оценку 5. 2) Альтернативные варианты CTF отражают надежность рецензента, от –10 до + 10. 3) Автоматически создаваемые варианты перевода (n лучших) имеют оценку 0 и степень соответствия 100.
    - Количество вариантов. Количество возвращаемых вариантов не может превышать maxTranslations, но может быть меньше.
    - Языковая пара. Эта функция недоступна для переводов между упрощенным и традиционным китайским письмом в обоих направлениях. Для всех остальных языковых пар, поддерживаемых в Microsoft Translator, она доступна.
* `State`: состояние пользователя для помощи в согласовании запроса и ответа. В ответе будет возвращено то же содержимое.
* `Uri`: отфильтруйте результаты по данному URI. Если значение не задано, то используется значение по умолчанию.
* `User`: отфильтруйте результаты по данному пользователю. Если значение не задано, то используется значение по умолчанию.

Запрос `Content-Type` должен быть `text/xml`.

**Возвращаемое значение:** ответ имеет следующий формат.

```
<GetTranslationsResponse xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2"
  xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
  <From>Two character language code</From>
  <State/>
  <Translations>
    <TranslationMatch>
      <Count>int-value</Count>
      <MatchDegree>int-value</MatchDegree>
      <MatchedOriginalText/>
      <Rating>int value</Rating>
      <TranslatedText>string-value</TranslatedText>
    </TranslationMatch>
  </Translations>
</GetTranslationsResponse>
```

Сюда входит элемент `GetTranslationsResponse`, содержащий следующие значения:

* `Translations`: массив найденных соответствий, сохраненных в объекты TranslationMatch (см. ниже). Переводы могут включать несколько вариантов из исходного текста (нечеткое соответствие). Переводы будут отсортированы: сперва 100 %, а потом нечеткие соответствия.
* `From`: если в методе не указан исходный язык, он будет указан с помощью автоопределения языка. В противном случае это будет заданный исходный язык.
* `State`: состояние пользователя для помощи в согласовании запроса и ответа. Содержит то же значение, которое задано в параметре TranslateOptions.

Объект TranslationMatch состоит из следующих элементов:

* `Error`: если ошибка произошла в конкретной строке ввода, то код ошибки сохраняется. В противном случае поле будет пустым.
* `MatchDegree`: система сопоставляет входные предложения с хранилищем, включая также и неточные соответствия.  MatchDegree указывает, насколько входной текст соответствует исходному, найденному в хранилище. Возвращаемое значение находится в диапазоне от 0 до 100, где 0 — совпадений не найдено, а 100 – точное совпадение с учетом регистра.
MatchedOriginalText: исходный текст, найденный для этого результата. Возвращается, только если исходный текст отличался от входного. Используется для возвращения исходного текста нечеткого соответствия. Не возвращается для результатов Microsoft Translator.
* `Rating`: указывает надежность человека, который принимает решение о качестве. Результаты машинного перевода будут иметь оценку 5. Анонимные переводы обычно будут иметь оценку от 1 до 4, в то время как авторитетные – от 6 до 10.
* `Count`: количество раз, когда был выбран этот перевод с этой оценкой. Оценка для автоматически переведенных ответов будет равна 0.
* `TranslatedText`: переведенный текст.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
`GetTranslationsResponse` объект в формате, описанном выше.

строка

Тип содержимого ответа: application/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|ОПИСАНИЕ|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле appid пустым, а потом введите туда строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|текст|(пусто)|Обязательный элемент. Строка, представляющая текст для перевода. Размер текста не должен превышать 10 000 знаков.|query|строка|
|from|(пусто)|Обязательный элемент. Строка, представляющая код языка текста перевода.|query|строка|
|значение |(пусто)    |Обязательный элемент. Строка, представляющая код языка, на который переводится текст.|query|строка|
|maxTranslations|(пусто)|Обязательный элемент. Целочисленное значение, представляющее максимальное число возвращаемых переводов.|query|целое число|
|Авторизация| (пусто)|Требуется, если поле `appid` или заголовок `Ocp-Apim-Subscription-Key` не указаны. Маркер авторизации: `"Bearer" + " " + "access_token"`.|строка| Верхний колонтитул|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, если поле `appid` или заголовок `Authorization` не указаны.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|Код состояния HTTP|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса а также ID из заголовка ответа `X-MS-Trans-Info`.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-gettranslationsarray"></a>Запрос POST /AddTranslationArray

### <a name="implementation-notes"></a>Примечания по реализации
Используйте метод `GetTranslationsArray` для извлечения вариантов переводов для текстов из нескольких источников.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetTranslationsArray`.

Формат текста запроса следующий.

```
<GetTranslationsArrayRequest>
  <AppId></AppId>
  <From>language-code</From>
  <MaxTranslations>int-value</MaxTranslations>
  <Options>
    <Category xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Category>
    <ContentType xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">text/plain</ContentType>
    <ReservedFlags xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2"/>
    <State xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">int-value</State>
    <Uri xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Uri>
    <User xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</User>
  </Options>
  <Texts>
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">string-value</string>
  </Texts>
  <To>language-code</To>
</GetTranslationsArrayRequest>
```

`GetTranslationsArrayRequest` включает следующие элементы:

* `AppId`: обязательный параметр. Если используется заголовок авторизации, то оставьте поле appid пустым, а потом введите туда строку, содержащую `"Bearer" + " " + "access_token"`.
* `From`: обязательный параметр. Строка, представляющая код языка текста перевода.
* `MaxTranslations`: обязательный параметр. Целочисленное значение, представляющее максимальное число возвращаемых переводов.
* `Options`: необязательный параметр. Объект Options, содержащий перечисленные ниже значения. Все они необязательны и по умолчанию соответствуют наиболее распространенным настройкам. Указанные элементы должны находится в алфавитном порядке.
    - Category`: строка, содержащая категорию (домен) перевода. Значение по умолчанию: general.
    - `ContentType`: единственный поддерживаемый параметр, значение по умолчанию — text/plain.
    - `IncludeMultipleMTAlternatives`: логический флаг, который определяет, нужно ли возвращать из системы машинного перевода несколько вариантов. Допустимые значения: true и false (с учетом регистра). По умолчанию имеет значение false и включает только один вариант. Установка флага в значение true позволяет создавать искусственные варианты перевода, полностью интегрированные с помощью платформы совместной работы над переводами (CTF). Компонент позволяет вернуть альтернативные варианты для предложений, у которых нет другого варианта в CTF, добавив искусственные альтернативных вариантов из списка n лучших декодера.
        - Оценки. Оценки применяются следующим образом: 1) Лучший автоматический перевод получает оценку 5. 2) Альтернативные варианты CTF отражают надежность рецензента, от –10 до + 10. 3) Автоматически создаваемые варианты перевода (n лучших) имеют оценку 0 и степень соответствия 100.
        - Количество вариантов. Количество возвращаемых вариантов не может превышать maxTranslations, но может быть меньше.
        - Языковая пара. Эта функция недоступна для переводов между упрощенным и традиционным китайским письмом в обоих направлениях. Для всех остальных языковых пар, поддерживаемых в Microsoft Translator, она доступна.
* `State`: состояние пользователя для помощи в согласовании запроса и ответа. В ответе будет возвращено то же содержимое.
* `Uri`: отфильтруйте результаты по данному URI. Если значение не задано, то используется значение по умолчанию.
* `User`: отфильтруйте результаты по данному пользователю. Если значение не задано, то используется значение по умолчанию.
* `Texts`: обязательный параметр. Массив, содержащий текст для перевода. Все строки должны бить написаны на том же языке. Общее количество всех текстов для перевода не должно превышать 10 000 знаков. Максимальное число элементов массива — 10.
* `To`: обязательный параметр. Строка, представляющая код языка, на который переводится текст.

Необязательные элементы можно опустить. Дочерние элементы `GetTranslationsArrayRequest` должны быть перечислены в алфавитном порядке.

Запрос `Content-Type` должен быть `text/xml`.

**Возвращаемое значение:** ответ имеет следующий формат.

```
<ArrayOfGetTranslationsResponse xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
  <GetTranslationsResponse>
    <From>language-code</From>
    <State/>
    <Translations>
      <TranslationMatch>
        <Count>int-value</Count>
        <MatchDegree>int-value</MatchDegree>
        <MatchedOriginalText>string-value</MatchedOriginalText>
        <Rating>int-value</Rating>
        <TranslatedText>string-value</TranslatedText>
      </TranslationMatch>
      <TranslationMatch>
        <Count>int-value</Count>
        <MatchDegree>int-value</MatchDegree>
        <MatchedOriginalText/>
        <Rating>int-value</Rating>
        <TranslatedText>string-value</TranslatedText>
      </TranslationMatch>
    </Translations>
  </GetTranslationsResponse>
</ArrayOfGetTranslationsResponse>
```

Каждый элемент `GetTranslationsResponse` имеет следующие значения:

* `Translations`: массив найденных соответствий, сохраненных в объекты `TranslationMatch` (см. ниже). Переводы могут включать несколько вариантов из исходного текста (нечеткое соответствие). Переводы будут отсортированы: сперва 100 %, а потом нечеткие соответствия.
* `From`: если в методе не указан язык, то язык `From` будет указан с помощью автоопределения языка. В противном случае это будет заданный исходный язык.
* `State`: состояние пользователя для помощи в согласовании запроса и ответа. Содержит то же значение, которое задано в параметре `TranslateOptions`.

Объект `TranslationMatch` состоит из следующих элементов:
* `Error`: если ошибка произошла в конкретной строке ввода, то код ошибки сохраняется. В противном случае поле будет пустым.
* `MatchDegree`: система сопоставляет входные предложения с хранилищем, включая также и неточные соответствия.  `MatchDegree` указывает, насколько входной текст соответствует исходному, найденному в хранилище. Возвращаемое значение находится в диапазоне от 0 до 100, где 0 — совпадений не найдено, а 100 – точное совпадение с учетом регистра.
* `MatchedOriginalText`: исходный текст, найденный для этого результата. Возвращается, только если исходный текст отличался от входного. Используется для возвращения исходного текста нечеткого соответствия. Не возвращается для результатов Microsoft Translator.
* `Rating`: указывает надежность человека, который принимает решение о качестве. Результаты машинного перевода будут иметь оценку 5. Анонимные переводы обычно будут иметь оценку от 1 до 4, в то время как авторитетные – от 6 до 10.
* `Count`: количество раз, когда был выбран этот перевод с этой оценкой. Оценка для автоматически переведенных ответов будет равна 0.
* `TranslatedText`: переведенный текст.


### <a name="response-class-status-200"></a>Класс ответа (состояние 200)

строка

Тип содержимого ответа: application/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|ОПИСАНИЕ|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|Авторизация  |(пусто)    |Требуется, если поле `appid` или заголовок `Ocp-Apim-Subscription-Key` не указаны. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, если поле `appid` или заголовок `Authorization` не указаны.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|Код состояния HTTP|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса а также ID из заголовка ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="next-steps"></a>Дополнительная информация

> [!div class="nextstepaction"]
> [Переход с API перевода текстов Microsoft версии 2 на версию 3](../migrate-to-v3.md)










