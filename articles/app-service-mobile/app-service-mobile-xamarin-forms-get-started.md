---
title: Начало работы с функцией "Мобильные приложения" с использованием Xamarin.Forms
description: Этот учебник поможет приступить к использованию функции "Мобильные приложения"в разработке для Xamarin.Forms
services: app-service\mobile
documentationcenter: xamarin
author: conceptdev
manager: crdun
ms.assetid: 5e692220-cc89-4548-96c8-35259722acf5
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: mobile-xamarin
ms.devlang: dotnet
ms.topic: hero-article
ms.date: 05/25/2018
ms.author: crdun
ms.openlocfilehash: b2dafbcf0e41e7387157590e145f74430686321c
ms.sourcegitcommit: 0a84b090d4c2fb57af3876c26a1f97aac12015c5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2018
ms.locfileid: "38307125"
---
# <a name="create-a-xamarinforms-app-with-azure"></a>Создание приложения Xamarin.Forms в Azure

[!INCLUDE [app-service-mobile-selector-get-started](../../includes/app-service-mobile-selector-get-started.md)]

В этом учебнике рассказывается, как добавить облачную серверную службу в мобильное приложение Xamarin.Forms с помощью функции "Мобильные приложения" службы приложений Azure в качестве серверной части. Вы создадите новую серверную часть при помощи функции "Мобильные приложения" и простое приложение Xamarin.Forms для списка дел, в котором в Azure хранятся данные приложения.

Завершение изучения этого учебника является необходимым условием для работы со всеми другими учебниками, посвященными мобильным приложениям для приложений Xamarin.Forms.

## <a name="prerequisites"></a>предварительным требованиям

Для работы с этим учебником требуется:

* Активная учетная запись Azure. Если у вас нет учетной записи, можно зарегистрироваться для получения бесплатной пробной версии Azure и получить до 10 бесплатных мобильных приложений, которые можно использовать и после окончания пробного периода. Дополнительные сведения см. на странице [Создайте бесплатную учетную запись Azure уже сегодня](https://azure.microsoft.com/pricing/free-trial/).

* Средства Visual Studio для Xamarin в Visual Studio 2017 или Visual Studio для Mac. Инструкции можно найти на [странице установки Xamarin][Install Xamarin].

* (Необязательно) Чтобы создать приложение iOS, потребуется компьютер Mac с установкой Xcode 9.0 или более поздней версии. Для разработки приложений iOS можно использовать Visual Studio для Mac или Visual Studio 2017 (если в сети есть доступный компьютер Mac).

## <a name="create-a-new-mobile-apps-back-end"></a>Создание серверной части при помощи функции "Мобильные приложения"

Для создания серверной части при помощи функции "Мобильные приложения" выполните инструкции ниже.

[!INCLUDE [app-service-mobile-dotnet-backend-create-new-service](../../includes/app-service-mobile-dotnet-backend-create-new-service.md)]

Теперь с помощью функции "Мобильные приложения" мы настроили серверную часть, которую могут использовать ваши мобильные приложения. Далее мы скачаем серверный проект со списком простых задач и опубликуем его в Azure.

## <a name="configure-the-server-project"></a>Настройка серверного проекта

Чтобы настроить серверный проект для использования серверной части .NET или Node.js, выполните инструкции ниже.

[!INCLUDE [app-service-mobile-configure-new-backend](../../includes/app-service-mobile-configure-new-backend.md)]

## <a name="download-and-run-the-xamarinforms-solution"></a>Скачивание и запуск решения Xamarin.Forms

Инструменты Visual Studio для Xamarin необходимы, чтобы открыть решение, как описано в [инструкциях по установке Xamarin][Install Xamarin]. Если эти инструменты уже установлены, сделайте следующее, чтобы скачать и открыть решение:

### <a name="visual-studio"></a>Visual Studio

1. Перейдите на [портал Azure].

2. В колонке параметров мобильного приложения щелкните **Быстрый запуск** (в разделе "Развертывание") > **Xamarin.Forms**. На этапе 3 выберите **Создать приложение** (если вы еще не сделали этого).  Затем нажмите кнопку **Загрузить** .

   После этого будет скачан проект, содержащий клиентское приложение, подключенное к вашему мобильному приложению. Сохраните сжатый файл проекта на локальном компьютере и запомните путь к нему.

3. Извлеките скачанный проект и откройте его в Visual Studio 2017.

   ![Извлеченный проект в Visual Studio][8]

4. Приведенные ниже инструкции позволяют запустить проект Android или Windows, а если в сети есть доступный компьютер Mac, то и проект iOS.

### <a name="visual-studio-for-mac"></a>Visual Studio для Mac

1. Перейдите на [портал Azure].

2. В колонке параметров мобильного приложения щелкните **Быстрый запуск** (в разделе "Развертывание") > **Xamarin.Forms**. На этапе 3 выберите **Создать приложение** (если вы еще не сделали этого).  Затем нажмите кнопку **Загрузить** .

   После этого будет скачан проект, содержащий клиентское приложение, подключенное к вашему мобильному приложению. Сохраните сжатый файл проекта на локальном компьютере и запомните путь к нему.

3. Извлеките скачанный проект и откройте его в Visual Studio для Mac.

   ![Извлеченный проект в Visual Studio для Mac][9]

4. Выполните следующие инструкции, чтобы запустить проекты Android или iOS.



## <a name="optional-run-the-android-project"></a>(Необязательно) Запуск проекта Android

В этом разделе вы запустите проект Xamarin.Android. Пропустите этот раздел, если вы не работаете с устройствами Android.

### <a name="visual-studio"></a>Visual Studio

1. Щелкните правой кнопкой мыши проект Android (Droid) и выберите пункт **Назначить запускаемым проектом**.

2. В меню **Сборка** выберите пункт **Диспетчер конфигураций**.

3. В диалоговом окне **Диспетчер конфигураций** установите флажки **Сборка** и **Развертывание** рядом с проектом Android и проверьте наличие флажка **Сборка** у проекта общего кода.

4. Чтобы выполнить сборку проекта и запустить приложение в эмуляторе Android, нажмите клавишу **F5** или щелкните **Пуск**.

### <a name="visual-studio-for-mac"></a>Visual Studio для Mac

1. Щелкните правой кнопкой мыши проект Android и выберите пункт **Назначить запускаемым проектом**.

2. Чтобы выполнить сборку проекта и запустить приложение в эмуляторе Android, щелкните пункт меню **Выполнить**, а затем **Начать отладку**.



В приложении введите содержательный текст, например *Изучение Xamarin*, и выберите знак плюса (**+**).

![Приложение Android для списка задач][11]

После этого в новую серверную часть, созданную при помощи функции "Мобильные приложения" и размещенную в Azure, будет отправлен запрос POST. Данные из запроса вставляются в таблицу TodoItem. Элементы, хранящиеся в таблице, возвращаются серверной частью, созданной при помощи функции "Мобильные приложения", а данные отображаются в списке.

> [!NOTE]
> Код, который обращается к серверной части мобильного приложения, расположен в файле C# **TodoItemManager.cs** в проекте общего кода для вашего решения.
>

## <a name="optional-run-the-ios-project"></a>(Необязательно) Запуск проекта iOS

В этом разделе описано, как запустить проект Xamarin.iOS для устройств под управлением iOS. Пропустите этот раздел, если вы не работаете с устройствами iOS.

### <a name="visual-studio"></a>Visual Studio

1. Щелкните проект iOS правой кнопкой мыши и выберите параметр **Назначить запускаемым проектом**.

2. В меню **Сборка** выберите пункт **Диспетчер конфигураций**.

3. В диалоговом окне **Диспетчер конфигураций** установите флажки **Сборка** и **Развертывание** рядом с проектом iOS и проверьте наличие флажка **Сборка** у проекта общего кода.

4. Чтобы выполнить сборку проекта и запустить приложение в эмуляторе iPhone, нажмите клавишу **F5**.

### <a name="visual-studio-for-mac"></a>Visual Studio для Mac

1. Щелкните проект iOS правой кнопкой мыши и выберите параметр **Назначить запускаемым проектом**.

2. В меню **Выполнить** выберите **Начать отладку**, чтобы выполнить сборку проекта и запустить приложение в эмуляторе iPhone.



В приложении введите содержательный текст, например *Изучение Xamarin*, и выберите знак плюса (**+**).

![Приложение iOS для списка задач][10]

После этого в новую серверную часть, созданную при помощи функции "Мобильные приложения" и размещенную в Azure, будет отправлен запрос POST. Данные из запроса вставляются в таблицу TodoItem. Элементы, хранящиеся в таблице, возвращаются серверной частью, созданной при помощи функции "Мобильные приложения", а данные отображаются в списке.

> [!NOTE]
> Код, который обращается к серверной части мобильного приложения, расположен в файле C# **TodoItemManager.cs** в проекте общего кода для вашего решения.
>

## <a name="optional-run-the-windows-project"></a>(Необязательно) Запуск проекта Windows

В этом разделе описано, как запустить проект Xamarin.Forms универсальной платформы Windows (UWP) для устройств Windows. Пропустите этот раздел, если вы не работаете с устройствами Windows.

### <a name="visual-studio"></a>Visual Studio

1. Щелкните проект UWP правой кнопкой мыши и выберите **Назначить запускаемым проектом**.

2. В меню **Сборка** выберите пункт **Диспетчер конфигураций**.

3. В диалоговом окне **Диспетчер конфигураций** установите флажки **Сборка** и **Развертывание** рядом с нужным проектом Windows и проверьте наличие флажка **Сборка** у проекта общего кода.

4. Чтобы выполнить сборку проекта и запустить приложение в эмуляторе Windows, нажмите клавишу **F5** или щелкните **Пуск** (Здесь должно быть указано **Локальный компьютер**).

> [!NOTE]
> Проект Windows нельзя запускать на macOS.



В приложении введите содержательный текст, например *Изучение Xamarin*, и выберите знак плюса (**+**).

После этого в новую серверную часть, созданную при помощи функции "Мобильные приложения" и размещенную в Azure, будет отправлен запрос POST. Данные из запроса вставляются в таблицу TodoItem. Элементы, хранящиеся в таблице, возвращаются серверной частью, созданной при помощи функции "Мобильные приложения", а данные отображаются в списке.

![Приложение UWP для списка задач][12]

> [!NOTE]
> Код, который обращается к серверной части мобильного приложения, располагается в файле C# **TodoItemManager.cs** в проекте переносимой библиотеки классов для вашего решения.
>

## <a name="troubleshooting"></a>Устранение неполадок

При проблемах со сборкой проекта запустите диспетчер пакетов NuGet и выполните обновление до последней версии Xamarin.Forms, а для проекта Android — обновите еще и пакеты поддержки Xamarin.Android. Проекты быстрого запуска не всегда включают самые свежие версии.

## <a name="next-steps"></a>Дополнительная информация

* [Добавление аутентификации в приложение](app-service-mobile-xamarin-forms-get-started-users.md). Сведения об аутентификации пользователей приложения с помощью поставщика удостоверений.

* [Добавление push-уведомлений в приложение](app-service-mobile-xamarin-forms-get-started-push.md). Сведения о включении в мобильном приложении поддержки push-уведомлений и настройке в серверной части, созданной с помощью функции "Мобильные приложения", концентраторов уведомлений Azure для отправки push-уведомлений.

* [Включение автономной синхронизации для мобильного приложения](app-service-mobile-xamarin-forms-get-started-offline-data.md). Сведения о включении поддержки автономной работы приложения с помощью серверной части мобильного приложения. Автономная синхронизация позволяет просматривать, добавлять или изменять данные мобильного приложения даже при отсутствии подключения к сети.

* [Использование управляемого клиента для функции "Мобильные приложения"](app-service-mobile-dotnet-how-to-use-client-library.md). Сведения об использовании пакета SDK для управляемого клиента в приложении Xamarin.

* [Другие службы Azure с Xamarin.Forms](https://docs.microsoft.com/xamarin/xamarin-forms/data-cloud/). Сведения о добавлении в приложения Xamarin.Forms дополнительных функций Azure, такие как поиск, хранилище и (или) когнитивные службы.

<!-- Anchors. -->
[Get started with Mobile Apps back ends]:#getting-started
[Create a new Mobile Apps back end]:#create-new-service
[Next steps]:#next-steps

<!-- Images. -->
[6]: ./media/app-service-mobile-xamarin-forms-get-started/xamarin-forms-quickstart.png
[8]: ./media/app-service-mobile-xamarin-forms-get-started/xamarin-forms-quickstart-vs.png
[9]: ./media/app-service-mobile-xamarin-forms-get-started/xamarin-forms-quickstart-xs.png
[10]: ./media/app-service-mobile-xamarin-forms-get-started/mobile-quickstart-startup-ios.png
[11]: ./media/app-service-mobile-xamarin-forms-get-started/mobile-quickstart-startup-android.png
[12]: ./media/app-service-mobile-xamarin-forms-get-started/mobile-quickstart-startup-windows.png

<!-- URLs. -->
[Install Xamarin]: https://docs.microsoft.com/xamarin/cross-platform/get-started/installation/
[Mobile app SDK]: http://go.microsoft.com/fwlink/?LinkId=257545
[портал Azure]: https://portal.azure.com/
